<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/tw/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/tw/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/tw/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/tw/images/logo.svg" color="#222">
  <meta http-equiv="Cache-Control" content="no-transform">
  <meta http-equiv="Cache-Control" content="no-siteapp">

<link rel="stylesheet" href="/tw/css/main.css">


<link rel="stylesheet" href="/tw/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"oberonlai.blog","root":"/tw/","scheme":"Mist","version":"7.8.0","exturl":false,"sidebar":{"position":"right","display":"post","padding":18,"offset":12,"onmobile":true},"copycode":{"enable":true,"show_result":true,"style":"mac"},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":true,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"disqus","storage":true,"lazyload":false,"nav":{"disqus":{"text":"Load Disqus","order":-1}},"activeClass":"disqus"},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":false,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideDownIn","sidebar":"slideDownIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="現為全職 WordPress 工程師，網站開發經歷 11 年，專攻前端工程與 WordPress 佈景主題、外掛客製化開發">
<meta property="og:type" content="website">
<meta property="og:title" content="WordPress 開發日常">
<meta property="og:url" content="https://oberonlai.blog/tw/">
<meta property="og:site_name" content="WordPress 開發日常">
<meta property="og:description" content="現為全職 WordPress 工程師，網站開發經歷 11 年，專攻前端工程與 WordPress 佈景主題、外掛客製化開發">
<meta property="og:locale" content="zh_TW">
<meta property="article:author" content="賴俊吾 &#x2F; Oberon Lai">
<meta property="article:tag" content="WordPress,PHP,WordPress 外掛開發,WordPress 佈景主題開發,WordPress 工程師,敏捷接案,時薪計價,專案管理">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://oberonlai.blog/tw/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-TW'
  };
</script>

  <title>WordPress 開發日常 - 有任何 WordPress 客製需求歡迎與我聯絡！</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-163107142-1"></script>
    <script data-pjax>
      if (CONFIG.hostname === location.hostname) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-163107142-1');
      }
    </script>






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切換導航欄">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta custom-logo">

    <a href="/tw/" class="brand" rel="start" style="display: block">
        <img class="logo-img" src="/tw/images/logo-w.svg" alt="WordPress 開發日常">
    </a>
      <p class="site-subtitle" itemprop="description">有任何 WordPress 客製需求歡迎與我聯絡！</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-關於我">

    <a href="/tw/about/" rel="section">關於我</a>

  </li>
        <li class="menu-item menu-item-合作方式">

    <a href="/tw/how-can-oberon-help-you/" rel="section">合作方式</a>

  </li>
        <li class="menu-item menu-item-計價方式">

    <a href="/tw/how-do-i-make-a-quotation/" rel="section">計價方式</a>

  </li>
        <li class="menu-item menu-item-學習-wordpress">

    <a href="/tw/wordpress-full-stack/" rel="section">學習 WordPress</a>

  </li>
        <li class="menu-item menu-item-與我聯繫">

    <a href="mailto:m615926@gmail.com" rel="noopener" target="_blank">與我聯繫</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger">搜尋
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜尋..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>

  <a href="https://github.com/oberonlai" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://oberonlai.blog/tw/wordpress-and-composer/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/tw/images/avatar.jpg">
      <meta itemprop="name" content="賴俊吾 / Oberon Lai">
      <meta itemprop="description" content="現為全職 WordPress 工程師，網站開發經歷 11 年，專攻前端工程與 WordPress 佈景主題、外掛客製化開發">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="WordPress 開發日常">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/tw/wordpress-and-composer/" class="post-title-link" itemprop="url">【 心得 】WordPress 外掛開發日記 (二) - 套件</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>
              

              <time title="創建時間：2021-07-26 12:30:00 / 修改時間：12:53:56" itemprop="dateCreated datePublished" datetime="2021-07-26T12:30:00+08:00">2021-07-26</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/%E5%A4%96%E6%8E%9B%E9%96%8B%E7%99%BC/" itemprop="url" rel="index"><span itemprop="name">外掛開發</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/tw/wordpress-and-composer/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="wordpress-and-composer/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
            <span class="post-meta-item" title="文章字數">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
              <span>17k</span>
            </span>
            <span class="post-meta-item" title="所需閱讀時間">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
              <span>15 分鐘</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="WordPress-外掛開發系列文目錄"><a href="#WordPress-外掛開發系列文目錄" class="headerlink" title="WordPress 外掛開發系列文目錄"></a>WordPress 外掛開發系列文目錄</h3><p><a href="https://oberonlai.blog/tw/wordpress-plugin-boilerplate">一、WordPress 外掛架構 - 紀錄曾經使用過的架構以及目前作法</a><br><a href="https://oberonlai.blog/tw/wordpress-and-composer">二、WordPress 開發實用 Composer 套件 - 介紹在寫外掛的時候可以加速開發的套件</a><br>三、載入佈景主題範本 - 如何在外掛裡面使用範本檔修改前端介面並整合前端開發流程<br>四、整合 PHPUnit 單元測試 - 避免改東牆壞西牆的問題再次發生<br>五、自動化部署 - 讓 WordPress 搭上 DevOps 的列車🚄<br>六、WordPress 外掛更新 - 自行管理未上架 wordpress.org 的外掛版本維護</p>
<hr>
<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>WP 最強大的部分就是有用不完的外掛，PHP 當然也有！上 Packagist 或 Github 打 WordPress 關鍵字就能找到非常多適用於 WP 開發的套件，以下就幾套我已經拿來實戰的套件做介紹：</p>
<h2 id="posttypes"><a href="#posttypes" class="headerlink" title="posttypes"></a>posttypes</h2><p>做外掛最常見的需求就是要新增 custom post type、custom taxonomy，或是修改既有 post type 的顯示名稱以及功能修改，WP 原生的方法事實上不難使用，只要呼叫 register_post_type() 掛在 init 就能處理，</p>
<p>但隨著專案的複雜度提高，類似的程式碼就需要被重複很多遍，再加上還需要處理後台 column 的顯示欄位，新增一個 post type 就會讓程式碼落落長，萬一有兩個或更多個，管理起來就會麻煩許多。</p>
<p>爬了一下 Github 後，發現由 Joe Grainger 寫的 PostTypes 這個套件，完完全全可以解決我的問題，因為他都幫我們把功能封裝好了，只要 new PostType(‘CPT’) 就可以新增，完全不用再寫 Hook，並透過該物件來實作 Post Type 的各項參數設定：</p>
<p>先來秒安裝一下：</p>
<pre class="line-numbers language-none"><code class="language-none">$ composer require jjgrainger&#x2F;posttypes<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>我的習慣是會在 src 資料夾底下開一個與 CPT slug 同名的 php 檔，然後因為我們已經有自動載入了，所以要用的話只需要寫 use 關鍵字即可，假設我們的需求如下：</p>
<ol>
<li>新增一個 Post Type 叫做 book</li>
<li>新增兩個 book 的 Taxonomy 叫做 travel 跟 business</li>
</ol>
<h3 id="新增-Custom-Post-Type"><a href="#新增-Custom-Post-Type" class="headerlink" title="新增 Custom Post Type"></a>新增 Custom Post Type</h3><p>根據資料結構，我們會處理到 wp_posts 與 wp_terms，所以資料夾先新增 posts 與 terms，然後建立相對應的檔案，檔案結構如下：</p>
<pre class="line-numbers language-none"><code class="language-none">src
├── posts
│   └── book
│       └── Book.php
└── terms
    ├── business
    │   └── Business.php
    └── travel
        └── Travel.php<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>我自己常常會被英文的單複數搞混，所以後來就決定第一層比照資料表名稱一律使用複數 ( posts、terms )，新增的內容或是功能一律都使用單數，然後檔名首字均大寫。接下來先開啟 Book.php 來進行 Custom Post Type 的註冊，我們使用 posttypes 套件來處理：</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token keyword">use</span> <span class="token package">PostTypes<span class="token punctuation">\</span>PostType</span><span class="token punctuation">;</span>
<span class="token variable">$books</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PostType</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'book'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$books</span><span class="token operator">-></span><span class="token function">register</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>兩行就搞定！ 😍</p>
<p><img src="https://oberonlai.blog/wp-content/uploads/wordpress-and-composer/wordpress-and-composer-01.jpg"></p>
<p>預設名稱或是用 CPT 的名字加上 s 複數，如果要修改的話可以在建立 PostType 實例時帶入 name 參數來進行修改：</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token keyword">use</span> <span class="token package">PostTypes<span class="token punctuation">\</span>PostType</span><span class="token punctuation">;</span>

<span class="token variable">$name</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span>
	<span class="token string single-quoted-string">'name'</span>   <span class="token operator">=></span> <span class="token string single-quoted-string">'book'</span><span class="token punctuation">,</span>  <span class="token comment">// 註冊 CPT 的名稱</span>
	<span class="token string single-quoted-string">'plural'</span> <span class="token operator">=></span> <span class="token function">__</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'MyBook'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'btp'</span> <span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 顯示名稱</span>
	<span class="token string single-quoted-string">'slug'</span>   <span class="token operator">=></span> <span class="token string single-quoted-string">'mybook'</span><span class="token punctuation">,</span> <span class="token comment">// 網址代稱</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$books</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PostType</span><span class="token punctuation">(</span> <span class="token variable">$name</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$books</span><span class="token operator">-></span><span class="token function">register</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>結果如下：</p>
<p><img src="https://oberonlai.blog/wp-content/uploads/wordpress-and-composer/wordpress-and-composer-02.jpg"></p>
<p>如果想要使用 register_post_type 裡面的參數，只要再傳入第二個 option 參數即可：</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">
<span class="token keyword">use</span> <span class="token package">PostTypes<span class="token punctuation">\</span>PostType</span><span class="token punctuation">;</span>

<span class="token variable">$options</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span>
	<span class="token string single-quoted-string">'has_archive'</span> <span class="token operator">=></span> <span class="token constant boolean">true</span><span class="token punctuation">,</span>
	<span class="token string single-quoted-string">'menu_icon'</span>   <span class="token operator">=></span> <span class="token string single-quoted-string">'dashicons-book'</span><span class="token punctuation">,</span>
	<span class="token string single-quoted-string">'supports'</span>    <span class="token operator">=></span> <span class="token keyword">array</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'title'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'revisions'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'editor'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'author'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'comments'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'custom-fields'</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$books</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PostType</span><span class="token punctuation">(</span> <span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token variable">$options</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$books</span><span class="token operator">-></span><span class="token function">register</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>另外如果想要修改標籤像是 Add New、Edit 等等的字串，只要在 register 完成後指定即可：</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token variable">$labels</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span>
    <span class="token string single-quoted-string">'all_items'</span>          <span class="token operator">=></span> <span class="token function">__</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'所有好書'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'btp'</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'add_new'</span>            <span class="token operator">=></span> <span class="token function">__</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'新增好書'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'btp'</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'add_new_item'</span>       <span class="token operator">=></span> <span class="token function">__</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'新增好書'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'btp'</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'edit_item'</span>          <span class="token operator">=></span> <span class="token function">__</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'編輯'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'btp'</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'new_item'</span>           <span class="token operator">=></span> <span class="token function">__</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'新項目'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'btp'</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'view_item'</span>          <span class="token operator">=></span> <span class="token function">__</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'檢視'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'btp'</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'view_items'</span>         <span class="token operator">=></span> <span class="token function">__</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'檢視'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'btp'</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'search_items'</span>       <span class="token operator">=></span> <span class="token function">__</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'搜尋'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'btp'</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'not_found'</span>          <span class="token operator">=></span> <span class="token function">__</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'無結果'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'btp'</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'not_found_in_trash'</span> <span class="token operator">=></span> <span class="token function">__</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'無結果'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'btp'</span> <span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$books</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PostType</span><span class="token punctuation">(</span> <span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token variable">$options</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$books</span><span class="token operator">-></span><span class="token function">register</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$books</span><span class="token operator">-></span><span class="token function">labels</span><span class="token punctuation">(</span> <span class="token variable">$labels</span> <span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><img src="https://oberonlai.blog/wp-content/uploads/wordpress-and-composer/wordpress-and-composer-03.jpg"></p>
<p>Book.php 完整程式碼如下：</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">use</span> <span class="token package">PostTypes<span class="token punctuation">\</span>PostType</span><span class="token punctuation">;</span>

<span class="token variable">$name</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span>
	<span class="token string single-quoted-string">'name'</span>   <span class="token operator">=></span> <span class="token string single-quoted-string">'book'</span><span class="token punctuation">,</span>
	<span class="token string single-quoted-string">'plural'</span> <span class="token operator">=></span> <span class="token function">__</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'MyBook'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'btp'</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token string single-quoted-string">'slug'</span>   <span class="token operator">=></span> <span class="token string single-quoted-string">'mybook'</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$options</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span>
	<span class="token string single-quoted-string">'has_archive'</span> <span class="token operator">=></span> <span class="token constant boolean">true</span><span class="token punctuation">,</span>
	<span class="token string single-quoted-string">'menu_icon'</span>   <span class="token operator">=></span> <span class="token string single-quoted-string">'dashicons-book'</span><span class="token punctuation">,</span>
	<span class="token string single-quoted-string">'supports'</span>    <span class="token operator">=></span> <span class="token keyword">array</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'title'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'revisions'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'editor'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'author'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'comments'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'custom-fields'</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$books</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PostType</span><span class="token punctuation">(</span> <span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token variable">$options</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$books</span><span class="token operator">-></span><span class="token function">register</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$labels</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span>
	<span class="token string single-quoted-string">'all_items'</span>          <span class="token operator">=></span> <span class="token function">__</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'所有好書'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'btp'</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token string single-quoted-string">'add_new'</span>            <span class="token operator">=></span> <span class="token function">__</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'新增好書'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'btp'</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token string single-quoted-string">'add_new_item'</span>       <span class="token operator">=></span> <span class="token function">__</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'新增'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'btp'</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token string single-quoted-string">'edit_item'</span>          <span class="token operator">=></span> <span class="token function">__</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'編輯'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'btp'</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token string single-quoted-string">'new_item'</span>           <span class="token operator">=></span> <span class="token function">__</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'新項目'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'btp'</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token string single-quoted-string">'view_item'</span>          <span class="token operator">=></span> <span class="token function">__</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'檢視'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'btp'</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token string single-quoted-string">'view_items'</span>         <span class="token operator">=></span> <span class="token function">__</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'檢視'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'btp'</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token string single-quoted-string">'search_items'</span>       <span class="token operator">=></span> <span class="token function">__</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'搜尋'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'btp'</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token string single-quoted-string">'not_found'</span>          <span class="token operator">=></span> <span class="token function">__</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'無結果'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'btp'</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token string single-quoted-string">'not_found_in_trash'</span> <span class="token operator">=></span> <span class="token function">__</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'無結果'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'btp'</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$books</span><span class="token operator">-></span><span class="token function">labels</span><span class="token punctuation">(</span> <span class="token variable">$labels</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>上面這段就是我平常在用的程式碼片段。</p>
<p>可能會有朋友問這跟直接寫 register_post_type() 有什麼差別？就設計典範來說這是程序式程式設計 ( Procedural Programming ) 跟物件導向程式設計 ( Object Oriented Programming ) 的差別，WordPress 主要使用的邏輯是前者，而一些 PHP 框架像是 Laravel 就是物件導向的方式來設計的。</p>
<p>程序式程式設計顧名思義就是按照程式碼的順序來執行，然後透過判斷式來決定下一條路該怎麼走，有點像小時候玩的爬梯子的遊戲，遇到橫線就要轉彎，沒有的話就直直前進，在 WordPress 中最常見的例子就是要取得文章列表時使用的迴圈寫法：</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token keyword">if</span><span class="token punctuation">(</span> <span class="token function">have_posts</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span> <span class="token function">have_posts</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token function">the_post</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">the_content</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>先檢查 have_posts() 是否有回傳東西，有的話用 while 迴圈去把裡面的文章顯示出來，直到沒有為止，註冊 CPT 也是按照程式碼順序的邏輯，先把參數傳到 register_post_type 這個函式裡面，再把這個函式傳到 init 的勾點 ( Hook ) 上：</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token keyword">function</span> <span class="token function">wpdocs_codex_custom_init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token variable">$args</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span>
        <span class="token string single-quoted-string">'public'</span> <span class="token operator">=></span> <span class="token constant boolean">true</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'label'</span>  <span class="token operator">=></span> <span class="token function">__</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'Books'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'textdomain'</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">register_post_type</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'book'</span><span class="token punctuation">,</span> <span class="token variable">$args</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token function">add_action</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'init'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'wpdocs_codex_custom_init'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>而物件導向比較像是在玩樂高，所有的積木都有自己的特性，透過組合這些積木來做成成品，同時拆掉後又能再用一樣的積木組成不同的東西，這就是物件的核心概念，也就是像上面的例子一樣，我使用了 PostTypes\PostType 這塊積木來完成註冊 CPT 的這個成品：</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token keyword">use</span> <span class="token package">PostTypes<span class="token punctuation">\</span>PostType</span><span class="token punctuation">;</span>
<span class="token variable">$books</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PostType</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'42115'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$books</span><span class="token operator">-></span><span class="token function">register</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>而 Packagist 就是全世界最大的積木池，我可以在裡面撿到各式各樣我需要的磚，然後拼成我想要的作品，有別於程序式程式設計，透過物件的介面更方便重複利用，也能減少找相對應勾點的時間。</p>
<p>所以我現在刻意使用這些套件來取代 WP 內建的函式，覺得這樣比較好理解並且相對簡潔，但如果外掛功能相對單純或是主機環境因素無法使用 Composer，register_post_type() 還是無敵好用的XD</p>
<h3 id="新增-Taxonomy"><a href="#新增-Taxonomy" class="headerlink" title="新增 Taxonomy"></a>新增 Taxonomy</h3><p>接下來處理書的分類也就是旅遊與商業這兩個類別，開啟 Business.php 輸入以下程式碼：</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token keyword">use</span> <span class="token package">PostTypes<span class="token punctuation">\</span>Taxonomy</span><span class="token punctuation">;</span>

<span class="token variable">$business</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Taxonomy</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'business'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$business</span><span class="token operator">-></span><span class="token function">posttype</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'book'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$business</span><span class="token operator">-></span><span class="token function">register</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>一樣，又是俐落的三行就解決，只要宣吿 Taxonomy 實例後再用 posttype 方法去指定 Custom Post Type 就能完成。</p>
<p><img src="https://oberonlai.blog/wp-content/uploads/wordpress-and-composer/wordpress-and-composer-04.jpg"></p>
<p>然後最美好之處在於設定 Taxonomy 的方式跟 Custom Post Type 一模一樣，這支類別的介面設計得真的很好，非常方便使用，看下面新增 Taxonomy 的程式碼即可明白：</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token keyword">use</span> <span class="token package">PostTypes<span class="token punctuation">\</span>Taxonomy</span><span class="token punctuation">;</span>

<span class="token variable">$name</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span>
	<span class="token string single-quoted-string">'name'</span>   <span class="token operator">=></span> <span class="token string single-quoted-string">'business'</span><span class="token punctuation">,</span>
	<span class="token string single-quoted-string">'plural'</span> <span class="token operator">=></span> <span class="token function">__</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'MyBusinessBook'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'btp'</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$options</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span>
	<span class="token string single-quoted-string">'hierarchical'</span> <span class="token operator">=></span> <span class="token constant boolean">false</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$business</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Taxonomy</span><span class="token punctuation">(</span> <span class="token variable">$name</span><span class="token punctuation">,</span> <span class="token variable">$options</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$business</span><span class="token operator">-></span><span class="token function">posttype</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'book'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$business</span><span class="token operator">-></span><span class="token function">register</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$labels</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span>
	<span class="token string single-quoted-string">'all_items'</span>          <span class="token operator">=></span> <span class="token function">__</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'所有'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'btp'</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token string single-quoted-string">'add_new'</span>            <span class="token operator">=></span> <span class="token function">__</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'新增'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'btp'</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token string single-quoted-string">'add_new_item'</span>       <span class="token operator">=></span> <span class="token function">__</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'新增'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'btp'</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token string single-quoted-string">'edit_item'</span>          <span class="token operator">=></span> <span class="token function">__</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'編輯'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'btp'</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token string single-quoted-string">'new_item'</span>           <span class="token operator">=></span> <span class="token function">__</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'新項目'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'btp'</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token string single-quoted-string">'view_item'</span>          <span class="token operator">=></span> <span class="token function">__</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'檢視'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'btp'</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token string single-quoted-string">'view_items'</span>         <span class="token operator">=></span> <span class="token function">__</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'檢視'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'btp'</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token string single-quoted-string">'search_items'</span>       <span class="token operator">=></span> <span class="token function">__</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'搜尋'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'btp'</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token string single-quoted-string">'not_found'</span>          <span class="token operator">=></span> <span class="token function">__</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'無結果'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'btp'</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token string single-quoted-string">'not_found_in_trash'</span> <span class="token operator">=></span> <span class="token function">__</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'無結果'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'btp'</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$business</span><span class="token operator">-></span><span class="token function">labels</span><span class="token punctuation">(</span> <span class="token variable">$labels</span> <span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>寫法同 PostType，就只是換成 Taxonomy 以及修改成對應的變數名稱即可，所以另外一個分類 Travel 比照辦理即可。</p>
<p>這個套件還有另外一個強大之處，它可以控制後台文章列表欄位的新增與隱藏，這部分會跟另外一個專門做欄位的套件一起說明。</p>
<h2 id="wp-metabox"><a href="#wp-metabox" class="headerlink" title="wp-metabox"></a>wp-metabox</h2><p>實務上常遇到要新增文章的自訂欄位來增加文章資訊，我最愛用的外掛絕對是 ACF Pro，其他還有像是 Cmb2、Metabox.io、Pods、Toolset 等等，用外掛來處理自訂欄位對我來說是再平常也不過的事，直到需要把外掛發佈給別人用時，才驚覺壓縮之後竟然有好幾 MB，追查之下光 ACF Pro 就有 7.7MB 之多。</p>
<p>於是重新檢視自己對於 ACF 的使用習慣，觀察常用的功能與欄位有哪些，事實上不外乎就是最基本的文字、圖片上傳、下拉選單以及重複器最常使用，其他會用到的機會很少。</p>
<p>為了找尋替代方案照慣例先去 Packagist 爬了一下，找到不少套件在做，但基本上都跟 ACF 差不多，功能包山包海體積也是非常可觀，最後回到 Github 找到由 Matthew Kosloski 所寫的 <a target="_blank" rel="noopener" href="https://github.com/MatthewKosloski/wp-metabox-constructor-class">wp-metabox-constructor-class</a>，剛好裡面提供的欄位可以滿足我的基本需求。</p>
<p>但該類別上次更新是四年前了，也沒有上架 Packagist，所以我就把它整理了一下後上傳，整理的過程中發現到要新增欄位類型進去也不難，所以我現在都拿這套當我的 Metabox 主力開發套件。</p>
<p>內建六種欄位：Text、Textarea、Checkbox、Image Upload、Editor、Repeater，安裝方式如下：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">composer</span> require oberonlai/wp-metabox<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>假設我們現在要幫書增加一個 ISBN 與書介欄位，分別會用文字與視覺化編輯器來做，打開 Field.php 輸入以下程式碼：</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token keyword">use</span> <span class="token package">ODS<span class="token punctuation">\</span>Metabox</span><span class="token punctuation">;</span>

<span class="token variable">$metabox</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Metabox</span><span class="token punctuation">(</span>
	<span class="token keyword">array</span><span class="token punctuation">(</span>
		<span class="token string single-quoted-string">'id'</span>       <span class="token operator">=></span> <span class="token string single-quoted-string">'book_info'</span><span class="token punctuation">,</span>
		<span class="token string single-quoted-string">'title'</span>    <span class="token operator">=></span> <span class="token string single-quoted-string">'書籍資料'</span><span class="token punctuation">,</span>
		<span class="token string single-quoted-string">'screen'</span>   <span class="token operator">=></span> <span class="token string single-quoted-string">'book'</span><span class="token punctuation">,</span>
		<span class="token string single-quoted-string">'context'</span>  <span class="token operator">=></span> <span class="token string single-quoted-string">'normal'</span><span class="token punctuation">,</span>
		<span class="token string single-quoted-string">'priority'</span> <span class="token operator">=></span> <span class="token string single-quoted-string">'default'</span><span class="token punctuation">,</span>
	<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$metabox</span><span class="token operator">-></span><span class="token function">addText</span><span class="token punctuation">(</span>
	<span class="token keyword">array</span><span class="token punctuation">(</span>
		<span class="token string single-quoted-string">'id'</span>    <span class="token operator">=></span> <span class="token string single-quoted-string">'book_isbn'</span><span class="token punctuation">,</span>
		<span class="token string single-quoted-string">'label'</span> <span class="token operator">=></span> <span class="token string single-quoted-string">'ISBN'</span><span class="token punctuation">,</span>
		<span class="token string single-quoted-string">'desc'</span>  <span class="token operator">=></span> <span class="token string single-quoted-string">'書籍的 ISBN'</span><span class="token punctuation">,</span>
	<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$metabox</span><span class="token operator">-></span><span class="token function">addEditor</span><span class="token punctuation">(</span>
	<span class="token keyword">array</span><span class="token punctuation">(</span>
		<span class="token string single-quoted-string">'id'</span>    <span class="token operator">=></span> <span class="token string single-quoted-string">'book_intro'</span><span class="token punctuation">,</span>
		<span class="token string single-quoted-string">'label'</span> <span class="token operator">=></span> <span class="token string single-quoted-string">'書籍介紹'</span><span class="token punctuation">,</span>
		<span class="token string single-quoted-string">'desc'</span>  <span class="token operator">=></span> <span class="token string single-quoted-string">'書籍的簡短介紹'</span><span class="token punctuation">,</span>
	<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>先使用 use 來載入 ODS 的命名空間 Metabox 類別，然後建立一個 Metabox 的物件，這是指 metabox 的容器，有這容器之後才能把欄位放進去，接下來使用 addText 跟 addEditor 這兩個方法，完成後如下圖：</p>
<p><img src="https://oberonlai.blog/wp-content/uploads/wordpress-and-composer/wordpress-and-composer-05.jpg"></p>
<p>更多的使用方法可以參考 README.md，這邊推薦一個 VSCode 套件：<a target="_blank" rel="noopener" href="https://marketplace.visualstudio.com/items?itemName=shd101wyy.markdown-preview-enhanced">Markdown Preview Enhanced</a>，它可以直接在 VSCode 裡面預覽 Markdown 文件，就不用再返回 Github 頁面或是套件的線上文件去查看使用方法。</p>
<p><img src="https://oberonlai.blog/wp-content/uploads/wordpress-and-composer/wordpress-and-composer-11.jpg"></p>
<p>接下來我們接到客戶需求，客戶希望可以在文章列表頁面就能看到 ISBN 以便查詢，這時候上面用過的 posttype 套件又能派上用場了。</p>
<p><img src="https://oberonlai.blog/wp-content/uploads/wordpress-and-composer/wordpress-and-composer-06.jpg"></p>
<p>我們先在 posts/book 底下新增一個檔案叫做 Column.php，輸入以下程式碼：</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token keyword">use</span> <span class="token package">PostTypes<span class="token punctuation">\</span>Columns</span><span class="token punctuation">;</span>

<span class="token variable">$books</span><span class="token operator">-></span><span class="token function">columns</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">add</span><span class="token punctuation">(</span>
	<span class="token keyword">array</span><span class="token punctuation">(</span>
		<span class="token string single-quoted-string">'isbn'</span> <span class="token operator">=></span> <span class="token function">__</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'ISBN'</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$books</span><span class="token operator">-></span><span class="token function">register</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>使用 columns 的 add 方法來新增欄位，裡面傳入的是一個陣列，用 key value 的方式來建立欄位 ID 與顯示名稱，最重要的是最後一行的 $books-&gt;register() 不能漏掉，接下來我們就可以針對這個 ID 來讀取資料：</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token keyword">use</span> <span class="token package">PostTypes<span class="token punctuation">\</span>Columns</span><span class="token punctuation">;</span>

<span class="token variable">$books</span><span class="token operator">-></span><span class="token function">columns</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">add</span><span class="token punctuation">(</span>
	<span class="token keyword">array</span><span class="token punctuation">(</span>
		<span class="token string single-quoted-string">'isbn'</span> <span class="token operator">=></span> <span class="token function">__</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'ISBN'</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$books</span><span class="token operator">-></span><span class="token function">columns</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">populate</span><span class="token punctuation">(</span>
	<span class="token string single-quoted-string">'isbn'</span><span class="token punctuation">,</span>
	<span class="token keyword">function</span> <span class="token punctuation">(</span> <span class="token variable">$column</span><span class="token punctuation">,</span> <span class="token variable">$post_id</span> <span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token keyword">echo</span> <span class="token function">esc_html</span><span class="token punctuation">(</span> <span class="token function">get_post_meta</span><span class="token punctuation">(</span> <span class="token variable">$post_id</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'book_isbn'</span><span class="token punctuation">,</span> <span class="token constant boolean">true</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$books</span><span class="token operator">-></span><span class="token function">register</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>使用的方法是 populate，第一個參數傳欄位 ID，第二個參數是回呼函式，我們用 get_post_meta 來取得 metabox 中的值，完成就能看到新增了一個 ISBN 欄位：</p>
<p><img src="https://oberonlai.blog/wp-content/uploads/wordpress-and-composer/wordpress-and-composer-07.jpg"></p>
<p>但客戶希望是放在分類 MyBussiness 欄位的後面，posttype 套件也非常貼心了提供修改欄位順序的功能，從左數過來分類欄位是第三個，所以我們只要將 ISBN 設成 4 即可：</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token keyword">use</span> <span class="token package">PostTypes<span class="token punctuation">\</span>Columns</span><span class="token punctuation">;</span>

<span class="token variable">$books</span><span class="token operator">-></span><span class="token function">columns</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">add</span><span class="token punctuation">(</span>
	<span class="token keyword">array</span><span class="token punctuation">(</span>
		<span class="token string single-quoted-string">'isbn'</span> <span class="token operator">=></span> <span class="token function">__</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'ISBN'</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$books</span><span class="token operator">-></span><span class="token function">columns</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">populate</span><span class="token punctuation">(</span>
	<span class="token string single-quoted-string">'isbn'</span><span class="token punctuation">,</span>
	<span class="token keyword">function</span> <span class="token punctuation">(</span> <span class="token variable">$column</span><span class="token punctuation">,</span> <span class="token variable">$post_id</span> <span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token keyword">echo</span> <span class="token function">esc_html</span><span class="token punctuation">(</span> <span class="token function">get_post_meta</span><span class="token punctuation">(</span> <span class="token variable">$post_id</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'book_isbn'</span><span class="token punctuation">,</span> <span class="token constant boolean">true</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$books</span><span class="token operator">-></span><span class="token function">columns</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">order</span><span class="token punctuation">(</span>
	<span class="token keyword">array</span><span class="token punctuation">(</span>
		<span class="token string single-quoted-string">'isbn'</span> <span class="token operator">=></span> <span class="token number">4</span><span class="token punctuation">,</span>
	<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$books</span><span class="token operator">-></span><span class="token function">register</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>使用 order 方法就能指定順序，如果要用 WordPress 原本的方法寫很麻煩，首先要建立一個空陣列，然後把既有的欄位放進去，透過迴圈判斷欄位名稱是否為 isbn，再判斷迴圈已經跑到第幾個，最重要的是我永遠記不起來勾點 ( Hook ) 要用哪一個…Orz</p>
<p>最後客戶希望可以按照 ISBN 進行排序，這用勾點來做的話一樣是有很多步驟需要處理，但 posttype 幫我們都搞定了，只要使用 sortable 方法即可：</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">use</span> <span class="token package">PostTypes<span class="token punctuation">\</span>Columns</span><span class="token punctuation">;</span>

<span class="token variable">$books</span><span class="token operator">-></span><span class="token function">columns</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">add</span><span class="token punctuation">(</span>
	<span class="token keyword">array</span><span class="token punctuation">(</span>
		<span class="token string single-quoted-string">'isbn'</span> <span class="token operator">=></span> <span class="token function">__</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'ISBN'</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$books</span><span class="token operator">-></span><span class="token function">columns</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">populate</span><span class="token punctuation">(</span>
	<span class="token string single-quoted-string">'isbn'</span><span class="token punctuation">,</span>
	<span class="token keyword">function</span> <span class="token punctuation">(</span> <span class="token variable">$column</span><span class="token punctuation">,</span> <span class="token variable">$post_id</span> <span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token keyword">echo</span> <span class="token function">esc_html</span><span class="token punctuation">(</span> <span class="token function">get_post_meta</span><span class="token punctuation">(</span> <span class="token variable">$post_id</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'book_isbn'</span><span class="token punctuation">,</span> <span class="token constant boolean">true</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$books</span><span class="token operator">-></span><span class="token function">columns</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">order</span><span class="token punctuation">(</span>
	<span class="token keyword">array</span><span class="token punctuation">(</span>
		<span class="token string single-quoted-string">'isbn'</span> <span class="token operator">=></span> <span class="token number">4</span><span class="token punctuation">,</span>
	<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$books</span><span class="token operator">-></span><span class="token function">columns</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">sortable</span><span class="token punctuation">(</span>
	<span class="token keyword">array</span><span class="token punctuation">(</span>
		<span class="token string single-quoted-string">'isbn'</span> <span class="token operator">=></span> <span class="token keyword">array</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'isbn'</span><span class="token punctuation">,</span> <span class="token constant boolean">true</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$books</span><span class="token operator">-></span><span class="token function">register</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>使用 sortable 方法指定要進行排序的欄位 ID，然後給它一個 true，同樣的道理，如果客戶今天想要讓某個欄位停止排序，傳入 false 即可。</p>
<p>以上程式示範了新增欄位、產生欄位資料、自訂順序以及排序功能：</p>
<p><img src="https://oberonlai.blog/wp-content/uploads/wordpress-and-composer/wordpress-and-composer-08.jpg"></p>
<p>posttype 加上 wp-metabox 真的可以省下很多時間啊～</p>
<h2 id="wp-option"><a href="#wp-option" class="headerlink" title="wp-option"></a>wp-option</h2><p>如果需要開發給社群使用的外掛，最不可或缺的功能就是設定頁面了，有了設定頁面就能把外掛的設定值交給使用者決定，進而依照實際需求彈性調整。</p>
<p>wp-option 這套是根據 boospot 開發的 <a target="_blank" rel="noopener" href="https://github.com/boospot/boo-settings-helper">boo-settings-helper</a> 加以改良，我增加了一層封裝介面，目的是想要可以跟 wp-metabox 一樣可以透過 addText()、addSelect() 這樣的語句來使用它，花了兩天的時間設計與整理文件，用起來實在是太愉悅了，再也不用記勾點了。</p>
<p><img src="https://oberonlai.blog/wp-content/uploads/wordpress-and-composer/wordpress-and-composer-10.jpg"></p>
<p>要使用的話第一步先進行安裝：</p>
<pre class="line-numbers language-none"><code class="language-none">composer require oberonlai&#x2F;wp-option<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>接下來在建立實例的時候，先命名自己的前綴以作為欄位名稱的辨識，就不會跟既有的衝突：</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token keyword">require</span> <span class="token constant">__DIR__</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'/vendor/autoload.php'</span><span class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">ODS<span class="token punctuation">\</span>Option</span><span class="token punctuation">;</span>

<span class="token variable">$prefix</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'plugin-prefix'</span><span class="token punctuation">;</span>

<span class="token variable">$books</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Option</span><span class="token punctuation">(</span> <span class="token variable">$prefix</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>整個套件的使用邏輯很單純，要新增一個設定頁面都是一樣的步驟：</p>
<ol>
<li>新增選單</li>
<li>新增分頁</li>
<li>加入欄位</li>
<li>註冊欄位</li>
</ol>
<pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token comment">// Require the Composer autoloader.</span>
<span class="token keyword">require</span> <span class="token constant">__DIR__</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'/vendor/autoload.php'</span><span class="token punctuation">;</span>

<span class="token comment">// Import PostTypes.</span>
<span class="token keyword">use</span> <span class="token package">ODS<span class="token punctuation">\</span>Option</span><span class="token punctuation">;</span>

<span class="token variable">$config</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Option</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'plugin-prefix-'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$config</span><span class="token operator">-></span><span class="token function">addMenu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$config</span><span class="token operator">-></span><span class="token function">addTab</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$config</span><span class="token operator">-></span><span class="token function">addText</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$config</span><span class="token operator">-></span><span class="token function">register</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Don't forget this.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="1-新增選單"><a href="#1-新增選單" class="headerlink" title="1.新增選單"></a>1.新增選單</h3><p>首先我們先看增加選單的部分，要傳入的參數是設定頁標題、選單文字、代稱，比較要注意的是子選單的設定，如果你想把設定選單放在某個選單底下，只要把 submenu 參數設定為 true，再把 wp-admin 後面的網址路徑帶入 parent 參數即可：</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token variable">$config</span><span class="token operator">-></span><span class="token function">addMenu</span><span class="token punctuation">(</span>
	<span class="token keyword">array</span><span class="token punctuation">(</span>
		<span class="token string single-quoted-string">'page_title'</span> <span class="token operator">=></span> <span class="token function">__</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'Plugin Name Settings'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'plugin-name'</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
		<span class="token string single-quoted-string">'menu_title'</span> <span class="token operator">=></span> <span class="token function">__</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'Plugin Name'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'plugin-name'</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
		<span class="token string single-quoted-string">'capability'</span> <span class="token operator">=></span> <span class="token string single-quoted-string">'manage_options'</span><span class="token punctuation">,</span>
		<span class="token string single-quoted-string">'slug'</span>       <span class="token operator">=></span> <span class="token string single-quoted-string">'plugin-name'</span><span class="token punctuation">,</span>
		<span class="token string single-quoted-string">'icon'</span>       <span class="token operator">=></span> <span class="token string single-quoted-string">'dashicons-performance'</span><span class="token punctuation">,</span>
		<span class="token string single-quoted-string">'position'</span>   <span class="token operator">=></span> <span class="token number">10</span><span class="token punctuation">,</span>
		<span class="token string single-quoted-string">'submenu'</span>    <span class="token operator">=></span> <span class="token constant boolean">true</span><span class="token punctuation">,</span>
		<span class="token string single-quoted-string">'parent'</span>     <span class="token operator">=></span> <span class="token string single-quoted-string">'edit.php?post_type=event'</span><span class="token punctuation">,</span>
	<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h3 id="2-新增分頁"><a href="#2-新增分頁" class="headerlink" title="2.新增分頁"></a>2.新增分頁</h3><p>接下來新增分頁的部分，每個設定頁一定都要有一個分頁，它就是像是欄位的容器，所有的欄位都要放在分頁裡面才會正確顯示，id 參數就是分頁容器的名稱，要新增的欄位需要帶入這個名稱，就能把該欄位指定在該分頁下面：</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token variable">$config</span><span class="token operator">-></span><span class="token function">addTab</span><span class="token punctuation">(</span>
	<span class="token keyword">array</span><span class="token punctuation">(</span>
		<span class="token keyword">array</span><span class="token punctuation">(</span>
			<span class="token string single-quoted-string">'id'</span>    <span class="token operator">=></span> <span class="token string single-quoted-string">'general_section'</span><span class="token punctuation">,</span>
			<span class="token string single-quoted-string">'title'</span> <span class="token operator">=></span> <span class="token function">__</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'General Settings'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'plugin-name'</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
			<span class="token string single-quoted-string">'desc'</span>  <span class="token operator">=></span> <span class="token function">__</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'These are general settings for Plugin Name'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'plugin-name'</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
		<span class="token punctuation">)</span>
	<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>如果要新增兩個以上的分頁，就傳入兩筆陣列資料即可：</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token variable">$config</span><span class="token operator">-></span><span class="token function">addTab</span><span class="token punctuation">(</span>
	<span class="token keyword">array</span><span class="token punctuation">(</span>
		<span class="token keyword">array</span><span class="token punctuation">(</span>
			<span class="token string single-quoted-string">'id'</span>    <span class="token operator">=></span> <span class="token string single-quoted-string">'general_section'</span><span class="token punctuation">,</span>
			<span class="token string single-quoted-string">'title'</span> <span class="token operator">=></span> <span class="token function">__</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'General Settings'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'plugin-name'</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
			<span class="token string single-quoted-string">'desc'</span>  <span class="token operator">=></span> <span class="token function">__</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'These are general settings for Plugin Name'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'plugin-name'</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
		<span class="token punctuation">)</span><span class="token punctuation">,</span>
		<span class="token keyword">array</span><span class="token punctuation">(</span>
			<span class="token string single-quoted-string">'id'</span>    <span class="token operator">=></span> <span class="token string single-quoted-string">'advance_section'</span><span class="token punctuation">,</span>
			<span class="token string single-quoted-string">'title'</span> <span class="token operator">=></span> <span class="token function">__</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'Advanced Settings'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'plugin-name'</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
			<span class="token string single-quoted-string">'desc'</span>  <span class="token operator">=></span> <span class="token function">__</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'These are advance settings for Plugin Name'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'plugin-name'</span> <span class="token punctuation">)</span>
		<span class="token punctuation">)</span>
	<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="3-新增欄位"><a href="#3-新增欄位" class="headerlink" title="3.新增欄位"></a>3.新增欄位</h3><p>目前該套件可以使用的欄位有十四種：</p>
<ul>
<li>  Text</li>
<li>  URL</li>
<li>  Number</li>
<li>  Color</li>
<li>  Textarea</li>
<li>  Radio Button</li>
<li>  Select</li>
<li>  HTML</li>
<li>  Checkbox</li>
<li>  Multi Select</li>
<li>  Related</li>
<li>  Password</li>
<li>  File</li>
<li>  Media Upload</li>
</ul>
<p>每種的用法都一樣，譬如要增加 Text 欄位，使用 addText() 方法，然後有兩個參數要傳入，第一個是分頁 id，第二個是設定內容，第三個參數是選填的回呼函式，主要功能在自訂 input 的 DOM 結構：</p>
<pre class="line-numbers language-none"><code class="language-none">$config-&gt;addText(
	&#39;general_section&#39;,
	array(
		&#39;id&#39;                &#x3D;&gt; &#39;text_field_id&#39;,
		&#39;label&#39;             &#x3D;&gt; __( &#39;Hello World&#39;, &#39;plugin-name&#39; ),
		&#39;desc&#39;              &#x3D;&gt; __( &#39;Some description of my field&#39;, &#39;plugin-name&#39; ),
		&#39;placeholder&#39;       &#x3D;&gt; &#39;This is Placeholder&#39;,
		&#39;show_in_rest&#39;      &#x3D;&gt; true,
		&#39;class&#39;             &#x3D;&gt; &#39;my_custom_css_class&#39;,
		&#39;size&#39;              &#x3D;&gt; &#39;regular&#39;,
	),
);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>帶入第三個回呼函式的用法：</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token variable">$config</span><span class="token operator">-></span><span class="token function">addText</span><span class="token punctuation">(</span>
	<span class="token string single-quoted-string">'general_section'</span><span class="token punctuation">,</span>
	<span class="token keyword">array</span><span class="token punctuation">(</span>
		<span class="token string single-quoted-string">'id'</span>    <span class="token operator">=></span> <span class="token string single-quoted-string">'text_field_id'</span><span class="token punctuation">,</span>
		<span class="token string single-quoted-string">'label'</span> <span class="token operator">=></span> <span class="token function">__</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'Hello World'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'plugin-name'</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token variable">$args</span> <span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token variable">$html</span>  <span class="token operator">=</span> <span class="token function">sprintf</span><span class="token punctuation">(</span>
			<span class="token string single-quoted-string">'&lt;input 
 class="regular-text"
 type="%1$s"
 name="%2$s"
 value="%3$s"
 placeholder="%4$s"
 style="border: 3px solid red;"
 />'</span><span class="token punctuation">,</span>
			<span class="token variable">$args</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'type'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
			<span class="token variable">$args</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
			<span class="token variable">$args</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'value'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
			<span class="token string single-quoted-string">'Placeholder from callback'</span>
		<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token variable">$html</span> <span class="token operator">.=</span> <span class="token string single-quoted-string">'&lt;br/>&lt;small>This field is generated with callback parameter&lt;/small>'</span><span class="token punctuation">;</span>
		<span class="token keyword">echo</span> <span class="token variable">$html</span><span class="token punctuation">;</span>
		<span class="token keyword">unset</span><span class="token punctuation">(</span> <span class="token variable">$html</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>如果是要做 Radio 或是下拉選單用法也一樣，差別在於要多設定 option 參數來決定選項：</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token variable">$config</span><span class="token operator">-></span><span class="token function">addRadio</span><span class="token punctuation">(</span>
	<span class="token string single-quoted-string">'general_section'</span><span class="token punctuation">,</span>
	<span class="token keyword">array</span><span class="token punctuation">(</span>
		<span class="token string single-quoted-string">'id'</span>      <span class="token operator">=></span> <span class="token string single-quoted-string">'radio_field_id'</span><span class="token punctuation">,</span>
		<span class="token string single-quoted-string">'label'</span>   <span class="token operator">=></span> <span class="token function">__</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'Radio Button'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'plugin-name'</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
		<span class="token string single-quoted-string">'desc'</span>    <span class="token operator">=></span> <span class="token function">__</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'A radio button'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'plugin-name'</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
		<span class="token string single-quoted-string">'options'</span> <span class="token operator">=></span> <span class="token keyword">array</span><span class="token punctuation">(</span>
			<span class="token string single-quoted-string">'radio_1'</span> <span class="token operator">=></span> <span class="token string single-quoted-string">'Radio 1'</span><span class="token punctuation">,</span>
			<span class="token string single-quoted-string">'radio_2'</span> <span class="token operator">=></span> <span class="token string single-quoted-string">'Radio 2'</span><span class="token punctuation">,</span>
			<span class="token string single-quoted-string">'radio_3'</span> <span class="token operator">=></span> <span class="token string single-quoted-string">'Radio 3'</span><span class="token punctuation">,</span>
		<span class="token punctuation">)</span><span class="token punctuation">,</span>
		<span class="token string single-quoted-string">'default'</span> <span class="token operator">=></span> <span class="token string single-quoted-string">'radio_2'</span><span class="token punctuation">,</span> <span class="token comment">// 預設值</span>
	<span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>所有欄位的使用方法可以參考套件裡面的 README.md 說明。</p>
<h3 id="4-註冊欄位"><a href="#4-註冊欄位" class="headerlink" title="4.註冊欄位"></a>4.註冊欄位</h3><p>最後一個方法不需要傳入任何參數但卻是是必須的，因為它包含了所有以上行為的勾點註冊，所以萬一你發現選單、分頁、欄位都寫好了卻沒反應，檢查看看是否有正確註冊欄位：</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token variable">$config</span><span class="token operator">-></span><span class="token function">register</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>以上是設定外掛設定選項的用法，你可以增加多個設定選單，都是一樣的步驟與流程，如果要取得設定值，使用 WordPress 內建的 get_option() 即可，記得不要忘記前綴喔！</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token variable">$my_text_field_value</span> <span class="token operator">=</span> <span class="token function">get_option</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'plugin-prefix-my_text_field'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h2 id="wp-asset"><a href="#wp-asset" class="headerlink" title="wp-asset"></a>wp-asset</h2><p>載入 JS、CSS 靜態資源檔幾乎是每個外掛都會用到的功能，原始的寫法要帶入五個參數，參數的帶入順序我每次都會搞錯，再加上 wp_register_script()、wp_localize_script()、wp_enqueue_script() 這三個函式都有各自的參數要帶入，常常被折騰一番後就火大乾脆直接引入，然後就會看到 PHPCS 噴錯XD</p>
<p>幸好後來有發現 Josantonius 寫的 <a target="_blank" rel="noopener" href="https://github.com/Josantonius/WP_Register">WP_Register</a> 套件幫助我解決了這個問題，然後我又根據實務上會遇到的情境再改寫成 wp-asset 套件，並加入了 Ajax 判斷功能，安裝方式如下：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token variable">$composer</span> require oberonlai/wp-asset<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>接下來載入一個 JS 檔：</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">
<span class="token keyword">use</span> <span class="token package">ODS<span class="token punctuation">\</span>Asset</span>

<span class="token class-name static-context">Asset</span><span class="token operator">::</span><span class="token function">addScript</span><span class="token punctuation">(</span>
	<span class="token keyword">array</span><span class="token punctuation">(</span>
		<span class="token string single-quoted-string">'name'</span>  <span class="token operator">=></span> <span class="token string single-quoted-string">'my_script'</span><span class="token punctuation">,</span>
		<span class="token string single-quoted-string">'url'</span>   <span class="token operator">=></span> <span class="token constant">ODS_PLUGIN_URL</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'assets/js/script.js'</span><span class="token punctuation">,</span>
	<span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>或是載入 CSS：</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token class-name static-context">Asset</span><span class="token operator">::</span><span class="token function">addStyle</span><span class="token punctuation">(</span>
	<span class="token keyword">array</span><span class="token punctuation">(</span>
		<span class="token string single-quoted-string">'name'</span>    <span class="token operator">=></span> <span class="token string single-quoted-string">'my_style'</span><span class="token punctuation">,</span>
		<span class="token string single-quoted-string">'url'</span>     <span class="token operator">=></span> <span class="token constant">ODS_PLUGIN_URL</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'assets/css/style.css'</span><span class="token punctuation">,</span>
	<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>分別使用 addScript 與 addStyle 兩個方法，然後透過 name 命名檔案名稱與 url 指定檔案路徑就能完成載入，比原始的 wp_enqueue_script 好記多了，其他可選參數如下：</p>
<table>
<thead>
<tr>
<th align="left">key</th>
<th align="left">說明</th>
<th align="center">類型</th>
<th align="center">必填</th>
<th>預設</th>
</tr>
</thead>
<tbody><tr>
<td align="left">name</td>
<td align="left">檔案唯一名稱</td>
<td align="center">字串</td>
<td align="center">是</td>
<td></td>
</tr>
<tr>
<td align="left">url</td>
<td align="left">檔案路徑</td>
<td align="center">字串</td>
<td align="center">是</td>
<td></td>
</tr>
<tr>
<td align="left">admin</td>
<td align="left">在後台載入</td>
<td align="center">布林值</td>
<td align="center">否</td>
<td>false</td>
</tr>
<tr>
<td align="left">deps</td>
<td align="left">依賴套件</td>
<td align="center">陣列</td>
<td align="center">否</td>
<td></td>
</tr>
<tr>
<td align="left">version</td>
<td align="left">版本號</td>
<td align="center">字串</td>
<td align="center">否</td>
<td></td>
</tr>
<tr>
<td align="left">footer</td>
<td align="left">在頁尾載入 ( JS 限定 )</td>
<td align="center">布林值</td>
<td align="center">否</td>
<td>true</td>
</tr>
<tr>
<td align="left">ajax</td>
<td align="left">啟用 Ajax 功能 ( JS 限定 )</td>
<td align="center">布林值</td>
<td align="center">否</td>
<td>false</td>
</tr>
<tr>
<td align="left">params</td>
<td align="left">需要輸出給前端的參數  ( JS 限定 )</td>
<td align="center">陣列</td>
<td align="center">否</td>
<td></td>
</tr>
<tr>
<td align="left">media</td>
<td align="left">媒體類型 ( CSS 限定 )</td>
<td align="center">字串</td>
<td align="center">否</td>
<td></td>
</tr>
</tbody></table>
<p>需要特別說明的是 Ajax 檔案的載入，當 ajax 設定為 true 時，會自動帶入兩個參數，分別為 ajax_url 與 ajax_nonce，這樣就能直接在 JS 取得，如果要加入其他參數使用 params 即可，範例如下：</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token class-name static-context">Asset</span><span class="token operator">::</span><span class="token function">addScript</span><span class="token punctuation">(</span>
	<span class="token keyword">array</span><span class="token punctuation">(</span>
		<span class="token string single-quoted-string">'name'</span>    <span class="token operator">=></span> <span class="token string single-quoted-string">'my_ajax'</span><span class="token punctuation">,</span>
		<span class="token string single-quoted-string">'url'</span>     <span class="token operator">=></span> <span class="token constant">YOUR_PLUGIN_URL</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'assets/js/ajax.js'</span><span class="token punctuation">,</span>
		<span class="token string single-quoted-string">'deps'</span>    <span class="token operator">=></span> <span class="token keyword">array</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'jquery'</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
		<span class="token string single-quoted-string">'ajax'</span>    <span class="token operator">=></span> <span class="token constant boolean">true</span><span class="token punctuation">,</span>
		<span class="token string single-quoted-string">'params'</span>  <span class="token operator">=></span> <span class="token keyword">array</span><span class="token punctuation">(</span>
			<span class="token string single-quoted-string">'data1'</span>  <span class="token operator">=></span> <span class="token string single-quoted-string">'my_data_1'</span><span class="token punctuation">,</span>
			<span class="token string single-quoted-string">'data2'</span>  <span class="token operator">=></span> <span class="token string single-quoted-string">'my_data_2'</span><span class="token punctuation">,</span>
		<span class="token punctuation">)</span>
	<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>在前台就可以看到以下的輸出：</p>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>my_ajax-js-extra<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">var</span> my_ajax <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token string">"data1"</span><span class="token operator">:</span><span class="token string">"my_data_1"</span><span class="token punctuation">,</span><span class="token string">"data2"</span><span class="token operator">:</span><span class="token string">"my_data_2"</span><span class="token punctuation">,</span><span class="token string">"ajax_url"</span><span class="token operator">:</span><span class="token string">"https:\/\/local.test\/wp-admin\/admin-ajax.php?action=my_ajax"</span><span class="token punctuation">,</span><span class="token string">"ajax_nonce"</span><span class="token operator">:</span><span class="token string">"fead4137e4"</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>最後在 JS 裡面就可以直接取得：</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token function">jQuery</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">$</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token function">$</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ready</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span> 
        <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#btn'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
			<span class="token keyword">var</span> data <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
				action<span class="token operator">:</span> <span class="token string">"my_ajax"</span><span class="token punctuation">,</span>
				nonce<span class="token operator">:</span> my_ajax<span class="token punctuation">.</span>ajax_nonce<span class="token punctuation">,</span>
				data1<span class="token operator">:</span> my_ajax<span class="token punctuation">.</span>data1<span class="token punctuation">,</span>
				data2<span class="token operator">:</span> my_ajax<span class="token punctuation">.</span>data2
			<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
			$<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
				url<span class="token operator">:</span> my_ajax<span class="token punctuation">.</span>ajax_url<span class="token punctuation">,</span>
				data<span class="token operator">:</span> data<span class="token punctuation">,</span>
				type<span class="token operator">:</span> <span class="token string">'POST'</span><span class="token punctuation">,</span>
				dataType<span class="token operator">:</span> <span class="token string">"json"</span><span class="token punctuation">,</span>
				<span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
					console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
				<span class="token function-variable function">error</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
					console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">&#125;</span>
			<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span> 
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>這樣就可以省去寫 wp_register_script()、wp_localize_script()、wp_enqueue_script() 的麻煩了，透過統一的介面來完成 Ajax 的檔案引入。</p>
<h2 id="wp-ajax"><a href="#wp-ajax" class="headerlink" title="wp_ajax"></a>wp_ajax</h2><p>Ajax 在外掛開發裡面遇到的機率不定，也就是因為不一定每次都會用到，當要用的時候就會忘記該有的流程跟步驟：</p>
<ol>
<li>註冊 JS 檔並設定要傳給前端的後端變數</li>
<li>註冊 Ajax 的回呼函數，做 Nonce 驗證跟取得前端傳來的參數後做事情</li>
<li>把處理結果回傳給前端</li>
</ol>
<p>我常用的是由 Anthony Budd 的 <a target="_blank" rel="noopener" href="https://github.com/anthonybudd/WP_AJAX">WP_AJAX</a>，他寫了一個 WP_AJAX 抽象類別來讓我們繼承，裡面有內建一些實用的方法，像是用 get() 取得從前端傳來的參數、檢查使用者是否登入、取得 HTTP 請求方式等等。</p>
<p>安裝方式：</p>
<pre class="line-numbers language-none"><code class="language-none">$ composer require oberonlai&#x2F;wp-ajax<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>基本用法如下：</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token keyword">use</span> <span class="token package">ODS<span class="token punctuation">\</span>Ajax</span><span class="token punctuation">;</span>

<span class="token keyword">Class</span> <span class="token class-name">MyAjax</span> <span class="token keyword">extends</span> <span class="token class-name">Ajax</span> <span class="token punctuation">&#123;</span>

    <span class="token keyword">protected</span> <span class="token variable">$action</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'my_ajax'</span><span class="token punctuation">;</span>

    <span class="token keyword">protected</span> <span class="token keyword">function</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>

    	<span class="token comment">// 要做的事情放這邊</span>
    	
    	<span class="token function">update_option</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'name'</span><span class="token punctuation">,</span> <span class="token variable">$this</span><span class="token operator">-></span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'name'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token class-name static-context">MyAjax</span><span class="token operator">::</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>先繼承 Ajax 這個類別，然後設定 $action 這個給 JS 用的識別名稱以及實作 run 方法也就是實際要處理的動作，最後再用靜態方法 listen 完成 Ajax 註冊即可。</p>
<p>listen 方法帶有一個布林值參數，如果設定為 MyAjax::listen( false ) 的話則代表只有已登入的使用者才能執行這個 Ajax。</p>
<p>我們搭配上面的 wp-asset 套件來實作使用 Ajax 更新文章標題：</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token keyword">use</span> <span class="token package">ODS<span class="token punctuation">\</span>Asset</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">ODS<span class="token punctuation">\</span>Ajax</span><span class="token punctuation">;</span>

<span class="token class-name static-context">Asset</span><span class="token operator">::</span><span class="token function">addScript</span><span class="token punctuation">(</span>
	<span class="token keyword">array</span><span class="token punctuation">(</span>
		<span class="token string single-quoted-string">'name'</span>    <span class="token operator">=></span> <span class="token string single-quoted-string">'my_ajax'</span><span class="token punctuation">,</span>
		<span class="token string single-quoted-string">'url'</span>     <span class="token operator">=></span> <span class="token constant">ODS_PLUGIN_URL</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'assets/js/ajax.js'</span><span class="token punctuation">,</span>
		<span class="token string single-quoted-string">'deps'</span>    <span class="token operator">=></span> <span class="token keyword">array</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'jquery'</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
		<span class="token string single-quoted-string">'version'</span> <span class="token operator">=></span> <span class="token constant">ODS_VERSION</span><span class="token punctuation">,</span>
		<span class="token string single-quoted-string">'ajax'</span>    <span class="token operator">=></span> <span class="token constant boolean">true</span><span class="token punctuation">,</span>
		<span class="token string single-quoted-string">'params'</span>  <span class="token operator">=></span> <span class="token keyword">array</span><span class="token punctuation">(</span>
			<span class="token string single-quoted-string">'data1'</span> <span class="token operator">=></span> <span class="token string single-quoted-string">'my_data_1'</span><span class="token punctuation">,</span>
			<span class="token string single-quoted-string">'data2'</span> <span class="token operator">=></span> <span class="token string single-quoted-string">'my_data_2'</span><span class="token punctuation">,</span>
		<span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">MyAjax</span> <span class="token keyword">extends</span> <span class="token class-name">Ajax</span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">protected</span> <span class="token variable">$action</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'my_ajax'</span><span class="token punctuation">;</span>
	<span class="token keyword">protected</span> <span class="token keyword">function</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token variable">$nonce</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-></span><span class="token function">get</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'nonce'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span> <span class="token function">wp_verify_nonce</span><span class="token punctuation">(</span> <span class="token variable">$nonce</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'my_ajax'</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
			<span class="token variable">$this</span><span class="token operator">-></span><span class="token function">JSONResponse</span><span class="token punctuation">(</span> <span class="token function">__</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'發生錯誤，不合法的請求來源！'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'my-plugin'</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">exit</span><span class="token punctuation">;</span>
		<span class="token punctuation">&#125;</span>
		<span class="token variable">$url</span>     <span class="token operator">=</span> <span class="token function">wp_get_referer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token variable">$post_id</span> <span class="token operator">=</span> <span class="token function">url_to_postid</span><span class="token punctuation">(</span> <span class="token variable">$url</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token variable">$my_post</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span>
			<span class="token string single-quoted-string">'ID'</span>         <span class="token operator">=></span> <span class="token variable">$post_id</span><span class="token punctuation">,</span>
			<span class="token string single-quoted-string">'post_title'</span> <span class="token operator">=></span> <span class="token string single-quoted-string">'This is the 123'</span><span class="token punctuation">,</span>
		<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function">wp_update_post</span><span class="token punctuation">(</span> <span class="token variable">$my_post</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token variable">$this</span><span class="token operator">-></span><span class="token function">JSONResponse</span><span class="token punctuation">(</span> <span class="token variable">$post_id</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token class-name static-context">MyAjax</span><span class="token operator">::</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token constant boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>首先，我們可以使用 $this-&gt;get() 來取得從 JS 傳來的參數，在做任何 Ajax 的工作之前，使用 nonce 來做請求來源驗證是必要的，所以我們先取得前端傳來的 nonce，然後用 wp_verify_nonce 來判斷。</p>
<p>接下來把要執行的工作放在 run() 裡面，這邊使用 wp_update_post 做資料更新，最後用內建的 JSONResponse 方法把處理結果回傳給前端，注意到這邊使用 listen( false ) 也就是代表只有登入的使用者才能執行這個修改。</p>
<p>透過以上寫法可以省略要組合勾點 wp_ajax_my_ajax 與 wp_ajax_nopriv_my_ajax 這兩個動作，再搭配 wp-asset 更能方便載入 JS 檔。</p>
<h2 id="wp-router"><a href="#wp-router" class="headerlink" title="wp-router"></a>wp-router</h2><p>在開發外掛的時候常遇到需要背景呼叫的狀況，像是串接 API 時要接收第三方回傳的資料，或是一些不需要前端介面的資料處理頁，以前我會在後台新增頁面，然後用 page-slug.php 的範本來寫這些功能，或是註冊 REST API 的 Endpoint 來處理，但不管是哪個方法，都會有多個步驟需要建立，用起來不是那麼直覺。</p>
<p>後來找到 Tim Field 寫的 <a target="_blank" rel="noopener" href="https://github.com/tim-field/wordpress-dispatcher">wordpress-dispatcher</a> 套件，可以非常直覺的來根據網址執行函式，安裝方式如下：</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">$ <span class="token function">composer</span> require oberonlai/wp-router<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>然後使用靜態方法 routes，傳入指定的陣列參數：</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token keyword">use</span> <span class="token package">ODS<span class="token punctuation">\</span>Router</span><span class="token punctuation">;</span>

<span class="token class-name static-context">Router</span><span class="token operator">::</span><span class="token function">routes</span><span class="token punctuation">(</span> 
	<span class="token keyword">array</span> <span class="token punctuation">(</span>
		<span class="token string single-quoted-string">'testing-a-url'</span> <span class="token operator">=></span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
		    <span class="token keyword">echo</span> <span class="token string single-quoted-string">'Hello World'</span><span class="token punctuation">;</span>
		<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
	<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>這樣當輸入網址 <a target="_blank" rel="noopener" href="https://example.com/testing-a-url">https://example.com/testing-a-url</a> 就能看到輸出的內容，網址要傳入動態的參數，也能用正規表達式來限定可帶入的參數：</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token keyword">use</span> <span class="token package">ODS<span class="token punctuation">\</span>Router</span><span class="token punctuation">;</span>

<span class="token class-name static-context">Router</span><span class="token operator">::</span><span class="token function">routes</span><span class="token punctuation">(</span> 
	<span class="token keyword">array</span> <span class="token punctuation">(</span>
		<span class="token string single-quoted-string">'hello-([a-z]+)'</span> <span class="token operator">=></span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token variable">$request</span><span class="token punctuation">,</span> <span class="token variable">$name</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
		    <span class="token keyword">echo</span> <span class="token string double-quoted-string">"Hello <span class="token interpolation"><span class="token variable">$name</span></span>"</span><span class="token punctuation">;</span>
		<span class="token punctuation">&#125;</span>
	<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>當輸入網址 <a target="_blank" rel="noopener" href="https://example.com/hello-a">https://example.com/hello-a</a> 或是 <a target="_blank" rel="noopener" href="https://example.com/hello-b">https://example.com/hello-b</a> 一樣可以輸出函式的內容，這個匿名函式帶有兩個參數，$request 是請求路徑，$name 是括弧內的參數，所以上面這個例子會輸出 Hello a 以及 Hello b，這樣就能很直覺的根據請求路徑來執行對應的程式。</p>
<h3 id="同場加映：如何上傳自己的套件？"><a href="#同場加映：如何上傳自己的套件？" class="headerlink" title="同場加映：如何上傳自己的套件？"></a>同場加映：如何上傳自己的套件？</h3><p>如果找不到適合自己的套件該怎麼辦？很簡單，寫一套自己的或是改寫既有的套件來達成吧！像這篇文章裡面提到的所有套件，全都是踩在大大的肩膀上整理出來的，而我習慣用自己的命名空間來方便安裝，因此複製到自己的存放庫之後再上傳到 Packagist 即可。</p>
<p>要上傳 Packagist 套件的 Composer 設定檔基本內容如下：</p>
<pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token punctuation">&#123;</span>
    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"oberonlai/wp-router"</span><span class="token punctuation">,</span>
    <span class="token property">"description"</span><span class="token operator">:</span> <span class="token string">"Adding router for WordPress."</span><span class="token punctuation">,</span>
    <span class="token property">"homepage"</span><span class="token operator">:</span> <span class="token string">"https://github.com/oberonlai/wp-router"</span><span class="token punctuation">,</span>
    <span class="token property">"license"</span><span class="token operator">:</span> <span class="token string">"MIT"</span><span class="token punctuation">,</span>
    <span class="token property">"authors"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">&#123;</span>
            <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"Oberon Lai"</span><span class="token punctuation">,</span>
            <span class="token property">"email"</span><span class="token operator">:</span> <span class="token string">"m615926@gmail.com"</span><span class="token punctuation">,</span>
            <span class="token property">"homepage"</span><span class="token operator">:</span> <span class="token string">"https://oberonlai.blog"</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">"minimum-stability"</span><span class="token operator">:</span> <span class="token string">"stable"</span><span class="token punctuation">,</span>
    <span class="token property">"require"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
        <span class="token property">"php"</span><span class="token operator">:</span> <span class="token string">">=7.2"</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token property">"autoload"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
        <span class="token property">"psr-4"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
            <span class="token property">"ODS\\"</span><span class="token operator">:</span> <span class="token string">"src/"</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>有兩個地方需要注意：第一個是不要放入 version 版本號的參數，因為 Packagist 是用 Github 的 tag 來判斷版本，如果 composer.json 裡面包含 version 會發生錯亂。</p>
<p>第二個關鍵是 autoload，我的命名空間統一使用 ODS ( Oberon Design System )，然後自動載入 src 資料夾裡面的檔案，所以之後要用的時候只要寫 use ODS\類別名稱 即可。</p>
<p>我慣用的版本控管是 Github，所以準備好套件跟命名空間後就可以推上去了，接下來前往 Packagist 註冊一個帳號，註冊完成後就能提交自己的套件：</p>
<p><img src="https://oberonlai.blog/wp-content/uploads/wordpress-and-composer/wordpress-and-composer-12.jpg"></p>
<p>直接在 Repository URL 貼入你的 Github 存放庫網址即可，按下 Check 後他會提醒你有其他類似名稱的套件，直接 Submit 後就完成了。</p>
<p>如果之後發現套件有地方需要修改，修改完後一樣直接先推上 Github，因為 Packagist 是用 tag 來抓版本資訊，所以我們先把修改後的 commit 建立一個新的 tag：</p>
<pre class="line-numbers language-shell" data-language="shell"><code class="language-shell"><span class="token function">git</span> tag -a <span class="token string">'v1.0.1'</span> -m <span class="token string">'這次改的東西'</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>再把這個 tag 推上去：</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php">git push origin v1<span class="token operator">.</span><span class="token number">0.1</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>這樣在 Packagist 就能接收到更新版本的資訊了，版本號的命名慣例是 v1.0.x 是除錯、安全性修改、v1.x.0 是新增功能、vX.0.0 是包含相容性問題的大版本更新，這樣就能讓使用者知道這次更新的規模大小，以便讓他們自行決定是否要更新。</p>
<br>

<h2 id="小結"><a href="#小結" class="headerlink" title="小結"></a>小結</h2><p>透過既有的套件來開發外掛可以大幅提升工作效率，但如果是已經熟悉 WordPress API 的朋友，可能會需要花一點時間來適應這樣的開發模式，因為我一開始也不太習慣，直到後來決定把外掛以物件導向的模式來開發，才驚覺到這樣的作法才能讓程式碼易於維護與重複利用，以及組合不同的物件來完成任務。</p>
<p>而這樣的好處是可以讓程式更易於被測試，避免改東牆壞西牆的情況一再發生。接下來，我們把這樣的設計模式衍伸到前端開發，下一篇文章將介紹如何在外掛裡面使用範本檔修改前端介面並整合前端開發流程，另外跟風一下最近很紅的 TailwindCSS，讓後端可以無痛手刻 UI ~</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://oberonlai.blog/tw/wordpress-plugin-boilerplate/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/tw/images/avatar.jpg">
      <meta itemprop="name" content="賴俊吾 / Oberon Lai">
      <meta itemprop="description" content="現為全職 WordPress 工程師，網站開發經歷 11 年，專攻前端工程與 WordPress 佈景主題、外掛客製化開發">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="WordPress 開發日常">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/tw/wordpress-plugin-boilerplate/" class="post-title-link" itemprop="url">【 心得 】WordPress 外掛開發日記 (一) - 架構</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>

              <time title="創建時間：2021-06-15 18:00:00" itemprop="dateCreated datePublished" datetime="2021-06-15T18:00:00+08:00">2021-06-15</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新於</span>
                <time title="修改時間：2021-07-26 12:55:03" itemprop="dateModified" datetime="2021-07-26T12:55:03+08:00">2021-07-26</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/%E5%A4%96%E6%8E%9B%E9%96%8B%E7%99%BC/" itemprop="url" rel="index"><span itemprop="name">外掛開發</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/tw/wordpress-plugin-boilerplate/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="wordpress-plugin-boilerplate/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
            <span class="post-meta-item" title="文章字數">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
              <span>11k</span>
            </span>
            <span class="post-meta-item" title="所需閱讀時間">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
              <span>10 分鐘</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>一年前的這個時候，從早到晚都在跟 WordPress 的佈景主題打交道，除了忙案子以外，空檔時就在研究哪些前端框架可以更快速的與 WordPress 做整合，想不到十二個月過去了，現在每天都改成在寫外掛，離前端程式開發越來越遠，停下腳步回頭來看，感覺是該來好好整理一下這陣子的開發心得了。</p>
<p>為了方便閱讀我拆成以下幾個章節來紀錄：</p>
<p><a href="https://oberonlai.blog/tw/wordpress-plugin-boilerplate">一、WordPress 外掛架構 - 紀錄曾經使用過的架構以及目前作法</a><br><a href="https://oberonlai.blog/tw/wordpress-and-composer">二、WordPress 開發實用 Composer 套件 - 介紹在寫外掛的時候可以加速開發的套件</a><br>三、載入佈景主題範本 - 如何在外掛裡面使用範本檔修改前端介面並整合前端開發流程<br>四、整合 PHPUnit 單元測試 - 避免改東牆壞西牆的問題再次發生<br>五、自動化部署 - 讓 WordPress 搭上 DevOps 的列車🚄<br>六、WordPress 外掛更新 - 自行管理未上架 wordpress.org 的外掛版本維護</p>
<p>如果是對 WordPress 外掛開發完全沒概念的朋友，我建議先閱讀 <a target="_blank" rel="noopener" href="https://developer.wordpress.org/plugins/">Plugin Developer Handbook</a> 會比較完整，或是買<a href="https://oberonlai.blog/tw/building-web-apps-with-wordpress/">這本書</a>來看在學習上會比較有脈絡與系統性。而這系列文是我的實務經驗，所以很多地方可能還是會有不足之處，希望能遇到大大再幫我指點迷津了 🙏</p>
<p>第一篇文章主要紀錄了我在組織外掛結構的過程，並透過不斷的打掉重練來找到自己最舒服的方式，讓我們開始吧～</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/tw/wordpress-plugin-boilerplate/#more" rel="contents">
                閱讀全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://oberonlai.blog/tw/wordpress-taiwan-stock/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/tw/images/avatar.jpg">
      <meta itemprop="name" content="賴俊吾 / Oberon Lai">
      <meta itemprop="description" content="現為全職 WordPress 工程師，網站開發經歷 11 年，專攻前端工程與 WordPress 佈景主題、外掛客製化開發">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="WordPress 開發日常">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/tw/wordpress-taiwan-stock/" class="post-title-link" itemprop="url">WordPress 台股指數外掛</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>

              <time title="創建時間：2021-05-12 16:10:00" itemprop="dateCreated datePublished" datetime="2021-05-12T16:10:00+08:00">2021-05-12</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新於</span>
                <time title="修改時間：2021-06-08 10:53:57" itemprop="dateModified" datetime="2021-06-08T10:53:57+08:00">2021-06-08</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/%E5%A4%96%E6%8E%9B%E9%96%8B%E7%99%BC/" itemprop="url" rel="index"><span itemprop="name">外掛開發</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/%E5%A4%96%E6%8E%9B%E9%96%8B%E7%99%BC/Open-Data/" itemprop="url" rel="index"><span itemprop="name">Open Data</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/tw/wordpress-taiwan-stock/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="wordpress-taiwan-stock/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
            <span class="post-meta-item" title="文章字數">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
              <span>1k</span>
            </span>
            <span class="post-meta-item" title="所需閱讀時間">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
              <span>1 分鐘</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="外掛介紹"><a href="#外掛介紹" class="headerlink" title="外掛介紹"></a>外掛介紹</h2><p>台股指數外掛是針對使用 WordPress 經營投資理財資訊平台的站長提供台灣股市個股每日盤後成交資訊，本外掛提供多種介面來呈現個股股價資訊，您可以挑選指定個股，選擇顯示指標，並將股價資訊嵌入在文章之中。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/tw/wordpress-taiwan-stock/#more" rel="contents">
                閱讀全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://oberonlai.blog/tw/wordpress-line-login-plugin/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/tw/images/avatar.jpg">
      <meta itemprop="name" content="賴俊吾 / Oberon Lai">
      <meta itemprop="description" content="現為全職 WordPress 工程師，網站開發經歷 11 年，專攻前端工程與 WordPress 佈景主題、外掛客製化開發">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="WordPress 開發日常">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/tw/wordpress-line-login-plugin/" class="post-title-link" itemprop="url">WordPress LINE 登入外掛</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>

              <time title="創建時間：2021-05-05 16:10:00" itemprop="dateCreated datePublished" datetime="2021-05-05T16:10:00+08:00">2021-05-05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新於</span>
                <time title="修改時間：2021-07-07 12:34:26" itemprop="dateModified" datetime="2021-07-07T12:34:26+08:00">2021-07-07</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/LINE/" itemprop="url" rel="index"><span itemprop="name">LINE</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/LINE/%E5%A4%96%E6%8E%9B%E9%96%8B%E7%99%BC/" itemprop="url" rel="index"><span itemprop="name">外掛開發</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/tw/wordpress-line-login-plugin/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="wordpress-line-login-plugin/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
            <span class="post-meta-item" title="文章字數">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
              <span>3.7k</span>
            </span>
            <span class="post-meta-item" title="所需閱讀時間">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
              <span>3 分鐘</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><img src="https://oberonlai.blog/wp-content/uploads/wordpress-line-login-plugin/wordpress-line-login-plugin-00.jpg"></p>
<h2 id="外掛介紹"><a href="#外掛介紹" class="headerlink" title="外掛介紹"></a>外掛介紹</h2><p>LINE 即時通訊軟體在台灣有超過兩千萬的用戶，持續推出相關的生活應用，從遊戲到新聞、叫車到支付，已經大範圍的滲透到台灣人的日常生活，因此幫自己的電商網站增加 LINE 帳號登入功能，能大幅度減少註冊網站會員的門檻，進而增加購物轉換率，而 WordPress LINE 登入外掛能協助您自行串接，無需再花費技術人員的成本。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/tw/wordpress-line-login-plugin/#more" rel="contents">
                閱讀全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://oberonlai.blog/tw/how-i-manager-projects/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/tw/images/avatar.jpg">
      <meta itemprop="name" content="賴俊吾 / Oberon Lai">
      <meta itemprop="description" content="現為全職 WordPress 工程師，網站開發經歷 11 年，專攻前端工程與 WordPress 佈景主題、外掛客製化開發">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="WordPress 開發日常">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/tw/how-i-manager-projects/" class="post-title-link" itemprop="url">【 心得 】一天四小時工作術</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>

              <time title="創建時間：2021-01-15 15:48:05" itemprop="dateCreated datePublished" datetime="2021-01-15T15:48:05+08:00">2021-01-15</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新於</span>
                <time title="修改時間：2021-05-19 16:45:00" itemprop="dateModified" datetime="2021-05-19T16:45:00+08:00">2021-05-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/%E8%80%81%E4%BA%BA%E7%A2%8E%E5%BF%B5/" itemprop="url" rel="index"><span itemprop="name">老人碎念</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/%E5%B0%88%E6%A1%88/" itemprop="url" rel="index"><span itemprop="name">專案</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/%E5%B0%88%E6%A1%88%E5%8D%B3%E7%94%9F%E6%B4%BB/" itemprop="url" rel="index"><span itemprop="name">專案即生活</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/tw/how-i-manager-projects/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="how-i-manager-projects/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
            <span class="post-meta-item" title="文章字數">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
              <span>4.5k</span>
            </span>
            <span class="post-meta-item" title="所需閱讀時間">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
              <span>4 分鐘</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>專案成果是否能滿足客戶的期望，關鍵不是在客戶希望的時間內完成所有的任務，而是在這段期間內能否解決客戶最在意的問題，只要客戶最痛的問題處理好了，剩下的工作縱使沒有在預期時間內完成也沒關係，只要安排好後續的執行時間並且傳達給客戶知道，這樣就能擺脫每天被死線追殺的苦逼人生了…</p>
</blockquote>
<p>自從改變自己的工作模式後已經過了半年的時間，這六個月的案量還算穩定 (感謝各位信任我的朋友)，現在手頭上的狀態是每天有計時的工作時數大概是四個小時左右，並且同時有四個案子在同步執行中。</p>
<p><strong>「一天只做四個小時卻能同時接案四個案子!?」</strong></p>
<p>如果在半年前有人跟我這樣說，我會覺得這人一定是在唬爛。以前我的極限是一個月兩個案子，然後每天工時至少八小時，常常做到晚上加班加到十、十二小時也是家常便飯，為了要讓專案趕在某個約定好的日期完成，就是只能一直拼命的做做做。</p>
<p>現在回過頭來看待以前的自己覺得好不可思議，每天忙得跟狗一樣卻沒什麼成就感，心情又很容易受到客戶意見的影響，尤其是做好的功能又說要改，規格一變動工時的爆增就無法避免。因此想把自己這半年來的轉變記錄下來，同時也提醒自己絕對別再走回頭路。</p>
<p><img src="https://oberonlai.blog/wp-content/uploads/2021/01/CleanShot-2021-01-15-at-15.47.40.jpg"></p>
<p>每日的風景</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/tw/how-i-manager-projects/#more" rel="contents">
                閱讀全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://oberonlai.blog/tw/php-oop-way/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/tw/images/avatar.jpg">
      <meta itemprop="name" content="賴俊吾 / Oberon Lai">
      <meta itemprop="description" content="現為全職 WordPress 工程師，網站開發經歷 11 年，專攻前端工程與 WordPress 佈景主題、外掛客製化開發">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="WordPress 開發日常">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/tw/php-oop-way/" class="post-title-link" itemprop="url">【 書摘 】PHP OOP Way</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>

              <time title="創建時間：2020-09-12 10:52:08" itemprop="dateCreated datePublished" datetime="2020-09-12T10:52:08+08:00">2020-09-12</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新於</span>
                <time title="修改時間：2021-05-01 17:58:58" itemprop="dateModified" datetime="2021-05-01T17:58:58+08:00">2021-05-01</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/PHP/" itemprop="url" rel="index"><span itemprop="name">PHP</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/tw/php-oop-way/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="php-oop-way/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
            <span class="post-meta-item" title="文章字數">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
              <span>29k</span>
            </span>
            <span class="post-meta-item" title="所需閱讀時間">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
              <span>26 分鐘</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>受惠於有無數的前人願意分享以及開源自己的程式碼，才能讓我這種只會去 Stackoverflow 找答案複製貼上的偽工程師開始逐漸學習 PHP，因為當貼過來的東西不能用或是需要修改的時候，就必須要去理解自己到底貼上了什麼碗糕。</p>
<p>對於長年下來習慣 trial and error 寫程式的我來說，當要開發一個功能時，我會先就這項功能的每個步驟開始 Google，譬如要做一個會員註冊系統的後端程式，我可能會先查這些問題：「如何將資料傳送進資料庫」、「如何進行資料庫連線」、「如何判斷資料庫資料寫入完成」等等，然後根據我查到的程式碼依序貼入編輯器裡面，接著見證奇蹟的時刻～</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/tw/php-oop-way/#more" rel="contents">
                閱讀全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://oberonlai.blog/tw/how-can-oberon-help-you/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/tw/images/avatar.jpg">
      <meta itemprop="name" content="賴俊吾 / Oberon Lai">
      <meta itemprop="description" content="現為全職 WordPress 工程師，網站開發經歷 11 年，專攻前端工程與 WordPress 佈景主題、外掛客製化開發">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="WordPress 開發日常">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/tw/how-can-oberon-help-you/" class="post-title-link" itemprop="url">【 業配 】接案路上少的那一位 WordPress 工程師</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>

              <time title="創建時間：2020-08-28 11:18:50" itemprop="dateCreated datePublished" datetime="2020-08-28T11:18:50+08:00">2020-08-28</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新於</span>
                <time title="修改時間：2021-05-01 18:25:51" itemprop="dateModified" datetime="2021-05-01T18:25:51+08:00">2021-05-01</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/WordPress/" itemprop="url" rel="index"><span itemprop="name">WordPress</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/%E7%B6%B2%E7%AB%99%E4%BC%81%E5%8A%83/" itemprop="url" rel="index"><span itemprop="name">網站企劃</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/%E8%80%81%E4%BA%BA%E7%A2%8E%E5%BF%B5/" itemprop="url" rel="index"><span itemprop="name">老人碎念</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/%E5%B0%88%E6%A1%88/" itemprop="url" rel="index"><span itemprop="name">專案</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/%E5%95%86%E6%A5%AD%E6%A8%A1%E5%BC%8F/" itemprop="url" rel="index"><span itemprop="name">商業模式</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/Email/" itemprop="url" rel="index"><span itemprop="name">Email</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/WooCommerce/" itemprop="url" rel="index"><span itemprop="name">WooCommerce</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/tw/how-can-oberon-help-you/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="how-can-oberon-help-you/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
            <span class="post-meta-item" title="文章字數">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
              <span>6.9k</span>
            </span>
            <span class="post-meta-item" title="所需閱讀時間">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
              <span>6 分鐘</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>我的工作舒適圈範圍涵蓋網站企劃、介面設計、前端程式設計、客製化 WordPress 佈景主題與開發 WordPress 外掛，雖然範圍有點大，但也持續深耕探索，在了解自己後更勇於面對挑戰，因為找到了屬於自己的工作模式。</p>
</blockquote>
<p>自己當年剛開始接案的時候什麼都不懂，尤其是技術相關的議題，每次被客戶問到時總是說沒問題，結果真的開始做的時候才發現問題一大堆，後來參加了很多小聚認識了很多工程師大大，也一起合作過不少的案子，跟他們一起接案就是會有種安心感，覺得再難的問題都有他們可以依靠。</p>
<p>雖然時間久了身邊的朋友會來來去去，但唯獨工程師朋友都是十年交情以上，雖然身處在不同的公司，但都還是會每天一起遠端工作，交換彼此每天遇到的鳥事、分享新的技術工具，從他們身上我學到了太多太多，像是遇到緊急狀況時臨危不亂、遇到複雜問題能理性的分析思考並進行拆解的模式、寫程式時的嚴謹態度、放下該放下的、糾結該糾結的、以及該擺爛的時候要擺爛XD</p>
<p>一晃眼十年過去了，因為被工程師的人格吸引不知不覺自己也變成工程師，然後看著許多新入行的朋友，跟他們分享接案路上的各種地雷與 💩，同時也跟他們一起合作接案，協助他們處理程式相關的問題，才驚覺自己已經變成當年自己很依賴的工程師，專門在拆炸彈跟處理很棘手的問題，也因此意外發現原來自己很喜歡這樣的挑戰，透過這些挑戰來讓自己獲得成就感。</p>
<p><strong>現在，因為找到自己的工作模式後，我更熱於接受這樣的挑戰</strong>！</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/tw/how-can-oberon-help-you/#more" rel="contents">
                閱讀全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://oberonlai.blog/tw/how-do-i-make-a-quotation/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/tw/images/avatar.jpg">
      <meta itemprop="name" content="賴俊吾 / Oberon Lai">
      <meta itemprop="description" content="現為全職 WordPress 工程師，網站開發經歷 11 年，專攻前端工程與 WordPress 佈景主題、外掛客製化開發">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="WordPress 開發日常">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/tw/how-do-i-make-a-quotation/" class="post-title-link" itemprop="url">【 心得 】我的接案報價學</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>

              <time title="創建時間：2020-08-11 10:27:31" itemprop="dateCreated datePublished" datetime="2020-08-11T10:27:31+08:00">2020-08-11</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新於</span>
                <time title="修改時間：2021-05-04 19:29:51" itemprop="dateModified" datetime="2021-05-04T19:29:51+08:00">2021-05-04</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/%E5%95%86%E6%A5%AD%E6%A8%A1%E5%BC%8F/" itemprop="url" rel="index"><span itemprop="name">商業模式</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/%E5%95%86%E6%A5%AD%E6%A8%A1%E5%BC%8F/%E5%B0%88%E6%A1%88/" itemprop="url" rel="index"><span itemprop="name">專案</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/%E5%95%86%E6%A5%AD%E6%A8%A1%E5%BC%8F/%E5%B0%88%E6%A1%88/%E5%B0%88%E6%A1%88%E5%8D%B3%E7%94%9F%E6%B4%BB/" itemprop="url" rel="index"><span itemprop="name">專案即生活</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/%E5%95%86%E6%A5%AD%E6%A8%A1%E5%BC%8F/%E5%B0%88%E6%A1%88/%E5%B0%88%E6%A1%88%E5%8D%B3%E7%94%9F%E6%B4%BB/%E7%B6%B2%E7%AB%99%E4%BC%81%E5%8A%83/" itemprop="url" rel="index"><span itemprop="name">網站企劃</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/%E5%95%86%E6%A5%AD%E6%A8%A1%E5%BC%8F/%E5%B0%88%E6%A1%88/%E5%B0%88%E6%A1%88%E5%8D%B3%E7%94%9F%E6%B4%BB/%E7%B6%B2%E7%AB%99%E4%BC%81%E5%8A%83/%E8%80%81%E4%BA%BA%E7%A2%8E%E5%BF%B5/" itemprop="url" rel="index"><span itemprop="name">老人碎念</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/%E5%95%86%E6%A5%AD%E6%A8%A1%E5%BC%8F/%E5%B0%88%E6%A1%88/%E5%B0%88%E6%A1%88%E5%8D%B3%E7%94%9F%E6%B4%BB/%E7%B6%B2%E7%AB%99%E4%BC%81%E5%8A%83/%E8%80%81%E4%BA%BA%E7%A2%8E%E5%BF%B5/%E6%8E%A5%E6%A1%88/" itemprop="url" rel="index"><span itemprop="name">接案</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/tw/how-do-i-make-a-quotation/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="how-do-i-make-a-quotation/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
            <span class="post-meta-item" title="文章字數">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
              <span>8.2k</span>
            </span>
            <span class="post-meta-item" title="所需閱讀時間">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
              <span>7 分鐘</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>摘要：我認為好的報價要能符合時間比例原則，並以單位時薪來展現自我價值，在這樣的前提之下，使用User Story&amp;任務拆解的工時估算法，從前置作業、頁面數量與功能開發三個大方向進行預估，並搭配透明化、定期主動回報工作進度的共同管理專案模式，讓客戶可以根據當月已開發時數 (費用) 決定優先順序，站在客戶立場，能隨時掌握專案進度並調整開發方向，減少時間成本的浪費，對於接案者來說，保持每月現金流是能持續自我精進的關鍵。</p>
</blockquote>
<p>坦白說，接案這麼多年，我最討厭的部分就是洽談工作這個環節，從搭上線開始，初步了解需求，然後碰面洽談，整理會議記錄、網站規格、報價單、合約書，寄給客戶之後開始針對報價單的內容逐一刪減，被砍價是理所當然，而議價是我覺得最難受的過程，彷彿在說我這個人不值這個價，雖然理智上知道這是商業談判的一環，但心理上很容易就會跟自己過不去。</p>
<p>接下來就是合約書，要提交給客戶的法務審查，審完後提出修改，當然修改條件我也不可能全部接受，於是中間又是一連串的來回，最後，真正開案大概是第一次會面之後的三個月了，而這三個月所花費的時間還沒有產生任何一毛的收入。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/tw/how-do-i-make-a-quotation/#more" rel="contents">
                閱讀全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://oberonlai.blog/tw/how-to-write-the-effective-specification/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/tw/images/avatar.jpg">
      <meta itemprop="name" content="賴俊吾 / Oberon Lai">
      <meta itemprop="description" content="現為全職 WordPress 工程師，網站開發經歷 11 年，專攻前端工程與 WordPress 佈景主題、外掛客製化開發">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="WordPress 開發日常">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/tw/how-to-write-the-effective-specification/" class="post-title-link" itemprop="url">【 心得 】企劃人員如何撰寫有效的軟體需求規格文件</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>

              <time title="創建時間：2020-07-23 12:27:09" itemprop="dateCreated datePublished" datetime="2020-07-23T12:27:09+08:00">2020-07-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新於</span>
                <time title="修改時間：2021-05-01 18:29:12" itemprop="dateModified" datetime="2021-05-01T18:29:12+08:00">2021-05-01</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/WordPress/" itemprop="url" rel="index"><span itemprop="name">WordPress</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/%E7%B6%B2%E7%AB%99%E4%BC%81%E5%8A%83/" itemprop="url" rel="index"><span itemprop="name">網站企劃</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/%E4%BD%BF%E7%94%A8%E8%80%85%E4%BB%8B%E9%9D%A2/" itemprop="url" rel="index"><span itemprop="name">使用者介面</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/%E8%80%81%E4%BA%BA%E7%A2%8E%E5%BF%B5/" itemprop="url" rel="index"><span itemprop="name">老人碎念</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/%E5%B0%88%E6%A1%88%E5%8D%B3%E7%94%9F%E6%B4%BB/" itemprop="url" rel="index"><span itemprop="name">專案即生活</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/%E8%B3%87%E8%A8%8A%E6%9E%B6%E6%A7%8B/" itemprop="url" rel="index"><span itemprop="name">資訊架構</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/tw/how-to-write-the-effective-specification/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="how-to-write-the-effective-specification/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
            <span class="post-meta-item" title="文章字數">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
              <span>12k</span>
            </span>
            <span class="post-meta-item" title="所需閱讀時間">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
              <span>11 分鐘</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>事實上在成為全職的 WordPress 工程師之前，我花了很多時間在做網站企劃，不管是自己接案還是在公司任職，企劃都是我的核心工作，也因此踩了超多雷，像是溝通錯誤、資料不齊、時程爆炸等等的慘痛經驗，學習過程中請教了許多前輩以及上過不少課程，希望可以把企劃的技能點補滿。</p>
<p>在這些教訓中，印象最深刻的就是有一個專案我花了兩個月的時間做需求訪談、競業分析、規劃網站架構、流程，還把所有頁面的線框圖、欄位說明、版面配置的資料都整理齊全，想說交給工程師之後應該就萬無一失了吧，結果當工程師拿到文件的時候只冷冷的說了一句：「這東西我看不懂。」</p>
<p>當下心裡只能飆三字經然後覺得工程師很懶很廢，東西都幫你準備好了你連看都不看就說看不懂，但全天下最不能得罪的就是幫你做吃的廚師跟幫你寫扣的工程師了，所以還是只好虛心請教哪裡看不懂、哪裡需要再補充說明，現在自己換成工程師腦了，終於明白當年為何會得到一句「看不懂」了…</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/tw/how-to-write-the-effective-specification/#more" rel="contents">
                閱讀全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://oberonlai.blog/tw/woocommerce-order-export/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/tw/images/avatar.jpg">
      <meta itemprop="name" content="賴俊吾 / Oberon Lai">
      <meta itemprop="description" content="現為全職 WordPress 工程師，網站開發經歷 11 年，專攻前端工程與 WordPress 佈景主題、外掛客製化開發">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="WordPress 開發日常">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/tw/woocommerce-order-export/" class="post-title-link" itemprop="url">【 筆記 】WooCommerce 客製化報表自動匯出&上傳功能開發</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>

              <time title="創建時間：2020-07-09 21:44:50" itemprop="dateCreated datePublished" datetime="2020-07-09T21:44:50+08:00">2020-07-09</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新於</span>
                <time title="修改時間：2021-05-01 18:35:49" itemprop="dateModified" datetime="2021-05-01T18:35:49+08:00">2021-05-01</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/WooCommerce/" itemprop="url" rel="index"><span itemprop="name">WooCommerce</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/tw/woocommerce-order-export/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="woocommerce-order-export/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
            <span class="post-meta-item" title="文章字數">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
              <span>28k</span>
            </span>
            <span class="post-meta-item" title="所需閱讀時間">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
              <span>26 分鐘</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>WooCoomerce 有許多方便又實用的外掛，可以解決企業在經營電子商務時所遇到的各種問題，但如果要與企業內部現有的系統進行整合，就勢必要針對既有系統的規格來進行 WooCommerce 的客製化開發。</p>
<h2 id="需求分析"><a href="#需求分析" class="headerlink" title="需求分析"></a>需求分析</h2><p>客戶希望把 WooCommerce 訂單能於每日特定的時段自動匯出後整合至內部的管理系統，並當發生訂單取消或退貨時，也能把該筆訂單的資料傳送至該系統中。</p>
<p>既有的操作流程為人工使用外掛匯出 csv 後，手動調整其報表內容傳送至內部系統，問題點在於無法自動化與取得某些類型商品的價格，以及折扣金額的計算皆需要人為介入處理，因此需要設計一套自動化流程來解決這些繁瑣的任務，並減少人工整理報表時可能產生的問題。</p>
<p>完整流程如下：</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/tw/woocommerce-order-export/#more" rel="contents">
                閱讀全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://oberonlai.blog/tw/building-web-apps-with-wordpress-api-objects-and-helper-functions/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/tw/images/avatar.jpg">
      <meta itemprop="name" content="賴俊吾 / Oberon Lai">
      <meta itemprop="description" content="現為全職 WordPress 工程師，網站開發經歷 11 年，專攻前端工程與 WordPress 佈景主題、外掛客製化開發">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="WordPress 開發日常">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/tw/building-web-apps-with-wordpress-api-objects-and-helper-functions/" class="post-title-link" itemprop="url">【 書摘 】Building Web Apps with WordPress - 使用 WordPress API、物件、與實用函式</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>

              <time title="創建時間：2020-05-11 08:48:26" itemprop="dateCreated datePublished" datetime="2020-05-11T08:48:26+08:00">2020-05-11</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新於</span>
                <time title="修改時間：2021-05-01 20:46:03" itemprop="dateModified" datetime="2021-05-01T20:46:03+08:00">2021-05-01</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/WordPress/" itemprop="url" rel="index"><span itemprop="name">WordPress</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/WordPress/WordPress-Plugins/" itemprop="url" rel="index"><span itemprop="name">WordPress Plugins</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/tw/building-web-apps-with-wordpress-api-objects-and-helper-functions/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="building-web-apps-with-wordpress-api-objects-and-helper-functions/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
            <span class="post-meta-item" title="文章字數">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
              <span>30k</span>
            </span>
            <span class="post-meta-item" title="所需閱讀時間">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
              <span>27 分鐘</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="Shortcode-API"><a href="#Shortcode-API" class="headerlink" title="Shortcode API"></a>Shortcode API</h2><p>Shortcode 是在後台編輯器中用來產生動態內容的一段短代碼，它有三種形式：</p>
<ul>
<li>  直接顯示內容，像是 [myshortcode]</li>
<li>  帶有屬性，像是 [myshortcode id=”1” type=”text”]</li>
<li>  像 HTML 一樣有前後標籤包內文包住，像是 [myshortcode id=”1”] 這邊是文字內容…[/myshortcode]</li>
</ul>
<blockquote>
<p>Shortcode 的使用場景我通常是用來提供給不熟悉 HTML 與 CSS 的客戶，在上文章內容的時候可以使用我們幫他設計好的 UI 元件，我將 UI 元件的 HTML 包裝成 shortcode，所以只要打 [title text=”標題文字”]，就會出現 h2 並帶有特定 class 的標題文字。</p>
</blockquote>
<p>建立 Shortcode 的第一個步驟，先使用 add_shortcode() 來定義 callback function，需要使用在 Shortcode 裡面的屬性要以陣列的格式傳入 callback function 的第一個參數，第二個參數為要被 Shortcode 包住的內容，下面範例說明如何新增一個帶有屬性以及內容的 Shortcode：</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/tw/building-web-apps-with-wordpress-api-objects-and-helper-functions/#more" rel="contents">
                閱讀全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://oberonlai.blog/tw/building-web-apps-with-wordpress-plugin/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/tw/images/avatar.jpg">
      <meta itemprop="name" content="賴俊吾 / Oberon Lai">
      <meta itemprop="description" content="現為全職 WordPress 工程師，網站開發經歷 11 年，專攻前端工程與 WordPress 佈景主題、外掛客製化開發">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="WordPress 開發日常">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/tw/building-web-apps-with-wordpress-plugin/" class="post-title-link" itemprop="url">【 書摘 】Building Web Apps with WordPress - 使用 WordPress 外掛</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>

              <time title="創建時間：2020-05-08 09:51:27" itemprop="dateCreated datePublished" datetime="2020-05-08T09:51:27+08:00">2020-05-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新於</span>
                <time title="修改時間：2021-05-01 20:53:00" itemprop="dateModified" datetime="2021-05-01T20:53:00+08:00">2021-05-01</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/WordPress/" itemprop="url" rel="index"><span itemprop="name">WordPress</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/tw/building-web-apps-with-wordpress-plugin/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="building-web-apps-with-wordpress-plugin/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
            <span class="post-meta-item" title="文章字數">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
              <span>20k</span>
            </span>
            <span class="post-meta-item" title="所需閱讀時間">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
              <span>18 分鐘</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="三、Using-WordPress-Plugin-使用-WordPress-外掛"><a href="#三、Using-WordPress-Plugin-使用-WordPress-外掛" class="headerlink" title="三、Using WordPress Plugin / 使用 WordPress 外掛"></a>三、Using WordPress Plugin / 使用 WordPress 外掛</h2><p>WordPress 外掛超強大！它可以讓你在不用懂任何程式碼的狀況下就可以使用許多功能，不管你使用的是免費、付費或是自行開發的外掛，透過外掛可以大幅度的延伸 WordPress 的既有功能。</p>
<p>再加上 WordPress 是開源軟體，許多開發者設計各式各樣的外掛來解決他們自己或是別人的問題，根據 WordPress Codex 的定義：「外掛是一套程式，或是使用 PHP 寫成的多組 Function，用來幫 WordPress 增加特定的功能或服務，它透過 WordPress 的 API，無縫整合到所有的 WordPress 網站中。」</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/tw/building-web-apps-with-wordpress-plugin/#more" rel="contents">
                閱讀全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://oberonlai.blog/tw/building-web-apps-with-wordpress-basic/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/tw/images/avatar.jpg">
      <meta itemprop="name" content="賴俊吾 / Oberon Lai">
      <meta itemprop="description" content="現為全職 WordPress 工程師，網站開發經歷 11 年，專攻前端工程與 WordPress 佈景主題、外掛客製化開發">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="WordPress 開發日常">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/tw/building-web-apps-with-wordpress-basic/" class="post-title-link" itemprop="url">【 書摘 】Building Web Apps with WordPress - WordPress 基本介紹</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>

              <time title="創建時間：2020-05-07 10:03:25" itemprop="dateCreated datePublished" datetime="2020-05-07T10:03:25+08:00">2020-05-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新於</span>
                <time title="修改時間：2021-05-01 21:06:02" itemprop="dateModified" datetime="2021-05-01T21:06:02+08:00">2021-05-01</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/WordPress/" itemprop="url" rel="index"><span itemprop="name">WordPress</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/tw/building-web-apps-with-wordpress-basic/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="building-web-apps-with-wordpress-basic/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
            <span class="post-meta-item" title="文章字數">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
              <span>25k</span>
            </span>
            <span class="post-meta-item" title="所需閱讀時間">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
              <span>23 分鐘</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="二、WordPress-Basic-WordPress-基本介紹"><a href="#二、WordPress-Basic-WordPress-基本介紹" class="headerlink" title="二、WordPress Basic / WordPress 基本介紹"></a>二、WordPress Basic / WordPress 基本介紹</h2><p>第二章的部分先從介紹 WordPress 主程式的資料夾結構以及資料庫結構與相對應的 API 開始。</p>
<h2 id="WordPress-資料夾結構"><a href="#WordPress-資料夾結構" class="headerlink" title="WordPress 資料夾結構"></a><strong>WordPress 資料夾結構</strong></h2><p>要開發 WordPress 之前，必須知道的第一條鐵律就是「永遠不要修改 WordPress」。這意思是說千萬不要去修改 WordPress 的核心程式，因為只要一更新所有的修改就會被覆蓋，而更新通常都會有修補漏洞的項目，所以為了要能讓網站維持在安全的狀態，更新到最新版本是必要的。</p>
<p>也因此不要修改核心程式碼，要修改之前先找看看有沒有相關的 Hook 可以使用，如果沒找到適合的可以回報給核心維護團隊，請他們把你需要的 Hook 加入，這樣最好的作法。</p>
<p>至於哪些是核心程式碼？除了 wp-content 資料夾以及 wp-config.php 以外，其他都是核心程式碼，你永遠、絕對、不要修改它！</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/tw/building-web-apps-with-wordpress-basic/#more" rel="contents">
                閱讀全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://oberonlai.blog/tw/ods-starter-theme/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/tw/images/avatar.jpg">
      <meta itemprop="name" content="賴俊吾 / Oberon Lai">
      <meta itemprop="description" content="現為全職 WordPress 工程師，網站開發經歷 11 年，專攻前端工程與 WordPress 佈景主題、外掛客製化開發">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="WordPress 開發日常">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/tw/ods-starter-theme/" class="post-title-link" itemprop="url">【 工具 】使用 ODS starter theme 開發 WordPress 佈景主題</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>

              <time title="創建時間：2020-04-18 10:39:25" itemprop="dateCreated datePublished" datetime="2020-04-18T10:39:25+08:00">2020-04-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新於</span>
                <time title="修改時間：2021-05-01 21:07:38" itemprop="dateModified" datetime="2021-05-01T21:07:38+08:00">2021-05-01</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/WordPress/" itemprop="url" rel="index"><span itemprop="name">WordPress</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/HTML5/" itemprop="url" rel="index"><span itemprop="name">HTML5</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/PHP/" itemprop="url" rel="index"><span itemprop="name">PHP</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/JavaScript/" itemprop="url" rel="index"><span itemprop="name">JavaScript</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/saas/" itemprop="url" rel="index"><span itemprop="name">saas</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/F2E/" itemprop="url" rel="index"><span itemprop="name">F2E</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/tw/ods-starter-theme/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="ods-starter-theme/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
            <span class="post-meta-item" title="文章字數">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
              <span>13k</span>
            </span>
            <span class="post-meta-item" title="所需閱讀時間">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
              <span>11 分鐘</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>坦白說做了這麼多年的專案，始終覺得沒有找到一套適合自己的 Starter Theme，不管是官方的還是很多社群朋友推薦的，用起來都還是有卡卡的感覺。</p>
<p>後來看到現在很多網路公司都會開發自己的 <a target="_blank" rel="noopener" href="https://designsystemsrepo.com/design-systems-recent">Design System</a>，驚覺到要有一套自己的系統才能讓整個工作流程更加順暢，進而建立自己的標準化規格，讓未來的自己好過些。</p>
<p>以往在進行 A 專案的時候，都會去爬以前寫過的程式碼，它們可能散落在 BCD 專案裡面，但時間一久再加上年紀變大，常常想不起來之前寫過的東西放在哪個專案裡面。</p>
<p>另一方面，自己在寫的時候很少遵循什麼 Code Standard，所以就算找到之前的程式碼，也會先碎碎念自己以前怎麼會把 Code 寫成這副德行，然後真的要用的時候都還要再花時間進行整理。</p>
<p>而且雖然是自己寫的東西，但不少的寫法都是 Google 來的，為什麼要這樣寫？這樣寫的用意是什麼？當專案結束拿到尾款後，這些問題就也隨風而去了，當下次再碰到類似的狀況要修改成不同的功能，又要再花很多時間來重新研究。</p>
<p>基於這些理由，<a target="_blank" rel="noopener" href="https://ods.obeornlai.blog/">ODS - Oberon Design System</a> （歐迪賽系統XD）就誕生了～～～</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/tw/ods-starter-theme/#more" rel="contents">
                閱讀全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://oberonlai.blog/tw/valetpress-setup/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/tw/images/avatar.jpg">
      <meta itemprop="name" content="賴俊吾 / Oberon Lai">
      <meta itemprop="description" content="現為全職 WordPress 工程師，網站開發經歷 11 年，專攻前端工程與 WordPress 佈景主題、外掛客製化開發">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="WordPress 開發日常">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/tw/valetpress-setup/" class="post-title-link" itemprop="url">【 工具 】Mac 限定 WordPress 本機開發環境 Valet + ValetPress</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>

              <time title="創建時間：2020-04-02 16:30:00" itemprop="dateCreated datePublished" datetime="2020-04-02T16:30:00+08:00">2020-04-02</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新於</span>
                <time title="修改時間：2021-05-01 21:08:29" itemprop="dateModified" datetime="2021-05-01T21:08:29+08:00">2021-05-01</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/WordPress/" itemprop="url" rel="index"><span itemprop="name">WordPress</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/tw/valetpress-setup/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="valetpress-setup/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
            <span class="post-meta-item" title="文章字數">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
              <span>5.4k</span>
            </span>
            <span class="post-meta-item" title="所需閱讀時間">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
              <span>5 分鐘</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>自從在 2018 年 WordCamp Taipei 分享使用 <a target="_blank" rel="noopener" href="https://2018.taipei.wordcamp.org/files/2018/10/how-to-use-the-docker-for-the-wordpress-localhost-environment-compressed.pdf">Docker + Kusanagi</a> 來搭建 WordPress 本機開發環境之後，我的小不點 MBP 硬碟就被 Docker 的 images 跟 volume 給塞爆了， 這才知道時間一久 Docker 超吃容量@@</p>
<p>後來就全部改用 <a target="_blank" rel="noopener" href="https://localwp.com/">Local</a> ( Localhost by Flywheel )，用了幾個月不管是安裝還是效能上都很滿意，但某天發現硬碟又要爆了，就用 CleanMyMac 把一些大檔砍一砍，不砍還好，一砍發現我用 Local 開的站全都 GG…</p>
<p>追查下才發現我誤砍了 Local 要用的 VM，仔細看每個站都有獨立的 PHP、Nginx、MySql，所以 VM 超肥，只能乖乖的把已經做的差不多的案子先移掉，只留下正在進行中的 VM。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/tw/valetpress-setup/#more" rel="contents">
                閱讀全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://oberonlai.blog/tw/flash-stories-technical/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/tw/images/avatar.jpg">
      <meta itemprop="name" content="賴俊吾 / Oberon Lai">
      <meta itemprop="description" content="現為全職 WordPress 工程師，網站開發經歷 11 年，專攻前端工程與 WordPress 佈景主題、外掛客製化開發">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="WordPress 開發日常">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/tw/flash-stories-technical/" class="post-title-link" itemprop="url">【專案】Flash Stories 的 Story</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>

              <time title="創建時間：2020-03-19 20:14:48" itemprop="dateCreated datePublished" datetime="2020-03-19T20:14:48+08:00">2020-03-19</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新於</span>
                <time title="修改時間：2021-05-01 21:09:36" itemprop="dateModified" datetime="2021-05-01T21:09:36+08:00">2021-05-01</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/WordPress/" itemprop="url" rel="index"><span itemprop="name">WordPress</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/%E5%B0%88%E6%A1%88/" itemprop="url" rel="index"><span itemprop="name">專案</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/%E5%95%86%E6%A5%AD%E6%A8%A1%E5%BC%8F/" itemprop="url" rel="index"><span itemprop="name">商業模式</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/tw/flash-stories-technical/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="flash-stories-technical/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
            <span class="post-meta-item" title="文章字數">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
              <span>24k</span>
            </span>
            <span class="post-meta-item" title="所需閱讀時間">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
              <span>21 分鐘</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><a target="_blank" rel="noopener" href="https://flashstories.co/"><img src="https://oberonlai.blog/wp-content/uploads/2020/03/CleanShot-2020-03-19-at-16.23.52.jpg"></a></p>
<blockquote>
<p>這篇文章要獻給台灣棒球幕後的重要推手、也是在國際賽中最關鍵的情蒐小組負責人、更是名球評、名教練 - 那就是～～～楊清瓏教練～～～的侄子 Gary Yang，他是我認識過幹話最多、髒話最多、最愛打電話給我、長得最像洪都拉斯、跟他吃飯從來不用付錢的朋友，也是我看過扛最多責任、最勇往直前、不知害怕為何物的一枚_猛男_！！！</p>
</blockquote>
<p>時間回到半年前，上面開頭提到那位幹話最多的猛男每天都在跟我靠杯：「 <a target="_blank" rel="noopener" href="https://amp.dev/about/stories/">AMP Stories</a> 有多屌就有多屌」、「這一定是未來的趨勢」、「做 SEO 的都會搶這個」，腦波弱的我就這樣輕易被他說服，不知不覺下海跳進這個超級大坑，大概就跟馬里亞納海溝一樣深。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/tw/flash-stories-technical/#more" rel="contents">
                閱讀全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://oberonlai.blog/tw/building-web-apps-with-wordpress/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/tw/images/avatar.jpg">
      <meta itemprop="name" content="賴俊吾 / Oberon Lai">
      <meta itemprop="description" content="現為全職 WordPress 工程師，網站開發經歷 11 年，專攻前端工程與 WordPress 佈景主題、外掛客製化開發">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="WordPress 開發日常">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/tw/building-web-apps-with-wordpress/" class="post-title-link" itemprop="url">【 書摘 】Building Web Apps with WordPress</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>

              <time title="創建時間：2020-03-13 10:57:50" itemprop="dateCreated datePublished" datetime="2020-03-13T10:57:50+08:00">2020-03-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新於</span>
                <time title="修改時間：2021-05-01 21:10:37" itemprop="dateModified" datetime="2021-05-01T21:10:37+08:00">2021-05-01</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/WordPress/" itemprop="url" rel="index"><span itemprop="name">WordPress</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/tw/building-web-apps-with-wordpress/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="building-web-apps-with-wordpress/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
            <span class="post-meta-item" title="文章字數">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
              <span>6.5k</span>
            </span>
            <span class="post-meta-item" title="所需閱讀時間">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
              <span>6 分鐘</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><img src="https://oberonlai.blog/wp-content/uploads/2020/03/250w-1.jpeg"></p>
<p>能夠看到這麼多實務技巧以及如此全面的 WordPress 開發書籍，就覺得買這台電子書閱讀器值回票價了！</p>
<p>Building Web Apps with WordPress 是由 Jason Coleman&amp;Brian Messenlehner 合力撰寫的一本關於如何使用 WordPress 開發 Web App 的程式書籍，雖然標題是寫 Web Apps，但對於想要致力於開發 Theme 或是 Plugin 的朋友都非常適合，因為它涵蓋了所有在開發 WordPress 時會涉及的議題。</p>
<p>像是從檔案結構、資料庫結構，到怎麼開發外掛、佈景主題，CPT、Taxonomy、OOP 開發技巧、User Role、WordPress API、安全性、ES6、WordPress REST API、Gutenberg Block editor、Multisite、本地化、效能優化、規模化、WooCommerce、整合 PHP Libraries 等等，</p>
<p>最後一章還預測了未來 WordPress 會走到哪個方向，對於想要掌握開發趨勢、學習基礎、進階技巧，個人超級大推這一本，看完之後一整個對於 WordPress 有了全新的認識。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/tw/building-web-apps-with-wordpress/#more" rel="contents">
                閱讀全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://oberonlai.blog/tw/%E5%96%9C%E6%AD%A1%E8%A8%8E%E5%8E%AD-wordpress-%E7%9A%84%E5%9C%B0%E6%96%B9/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/tw/images/avatar.jpg">
      <meta itemprop="name" content="賴俊吾 / Oberon Lai">
      <meta itemprop="description" content="現為全職 WordPress 工程師，網站開發經歷 11 年，專攻前端工程與 WordPress 佈景主題、外掛客製化開發">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="WordPress 開發日常">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/tw/%E5%96%9C%E6%AD%A1%E8%A8%8E%E5%8E%AD-wordpress-%E7%9A%84%E5%9C%B0%E6%96%B9/" class="post-title-link" itemprop="url">喜歡&討厭 WordPress 的地方</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>

              <time title="創建時間：2020-03-12 19:12:14" itemprop="dateCreated datePublished" datetime="2020-03-12T19:12:14+08:00">2020-03-12</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新於</span>
                <time title="修改時間：2021-05-01 21:11:12" itemprop="dateModified" datetime="2021-05-01T21:11:12+08:00">2021-05-01</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/WordPress/" itemprop="url" rel="index"><span itemprop="name">WordPress</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/tw/%E5%96%9C%E6%AD%A1%E8%A8%8E%E5%8E%AD-wordpress-%E7%9A%84%E5%9C%B0%E6%96%B9/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="喜歡討厭-wordpress-的地方/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
            <span class="post-meta-item" title="文章字數">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
              <span>1.3k</span>
            </span>
            <span class="post-meta-item" title="所需閱讀時間">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
              <span>1 分鐘</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>這兩天被問到這個題目，喜歡 WordPress 的地方很多，但討厭的地方努力想了好久，整理如下：</p>
<p>最喜愛 WordPress 的地方在於背後默默貢獻的每個人，也就是整個社群，每次參加聚會總是可以得到大家無私的分享以及交流，也因為 ＷordPress 認識了許多朋友，出了社會要能交到真心的朋友是很不容易的事情，透過 WordPress 讓我們彼此聯繫在一起。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/tw/%E5%96%9C%E6%AD%A1%E8%A8%8E%E5%8E%AD-wordpress-%E7%9A%84%E5%9C%B0%E6%96%B9/#more" rel="contents">
                閱讀全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://oberonlai.blog/tw/%E8%A6%AA%E6%84%9B%E7%9A%84%EF%BD%9E%E6%88%91%E6%8A%8A-iphone-%E8%AE%8A%E6%88%90%E4%B8%80%E9%A0%81%E4%BA%86%EF%BC%81/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/tw/images/avatar.jpg">
      <meta itemprop="name" content="賴俊吾 / Oberon Lai">
      <meta itemprop="description" content="現為全職 WordPress 工程師，網站開發經歷 11 年，專攻前端工程與 WordPress 佈景主題、外掛客製化開發">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="WordPress 開發日常">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/tw/%E8%A6%AA%E6%84%9B%E7%9A%84%EF%BD%9E%E6%88%91%E6%8A%8A-iphone-%E8%AE%8A%E6%88%90%E4%B8%80%E9%A0%81%E4%BA%86%EF%BC%81/" class="post-title-link" itemprop="url">親愛的～我把 iPhone 變一頁了！</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>

              <time title="創建時間：2020-03-12 13:02:46" itemprop="dateCreated datePublished" datetime="2020-03-12T13:02:46+08:00">2020-03-12</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新於</span>
                <time title="修改時間：2021-05-01 21:11:38" itemprop="dateModified" datetime="2021-05-01T21:11:38+08:00">2021-05-01</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/%E8%80%81%E4%BA%BA%E7%A2%8E%E5%BF%B5/" itemprop="url" rel="index"><span itemprop="name">老人碎念</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/tw/%E8%A6%AA%E6%84%9B%E7%9A%84%EF%BD%9E%E6%88%91%E6%8A%8A-iphone-%E8%AE%8A%E6%88%90%E4%B8%80%E9%A0%81%E4%BA%86%EF%BC%81/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="親愛的～我把-iphone-變成一頁了！/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
            <span class="post-meta-item" title="文章字數">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
              <span>3.3k</span>
            </span>
            <span class="post-meta-item" title="所需閱讀時間">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
              <span>3 分鐘</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>很難想像一個月前的我，從客廳走到廁所去刷牙需要花十分鐘的時間，不是我家有三百坪，而是因為途中邊走邊回 Line，擠牙膏前還要再打一下，邊刷時還不停的查看對方有沒有回，現在想想覺得自己是有事嗎？</p>
<p>我想上面的場景可能大家都不陌生，當準備要做什麼事時，就因為手機拿了起來，中斷了原本要做的事，然後開始站在原地一動也不動，開始打字或是瀏覽網頁。</p>
<p>如果走在馬路上，這樣的狀況更是屢見不鮮，走到一半前面的人突然停下來開始回訊息；都變綠燈了前面的車子還不走；上了車鑰匙都插了車門卻沒關，一腳還放在外面在滑手機，更不用說遠遠的就看到迎面而來的路人，邊看手機邊朝自己走過來，等到快撞上時才驚覺前面有人…</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/tw/%E8%A6%AA%E6%84%9B%E7%9A%84%EF%BD%9E%E6%88%91%E6%8A%8A-iphone-%E8%AE%8A%E6%88%90%E4%B8%80%E9%A0%81%E4%BA%86%EF%BC%81/#more" rel="contents">
                閱讀全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://oberonlai.blog/tw/%E6%95%B8%E4%BD%8D%E6%96%B7%E6%8D%A8%E9%9B%A2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/tw/images/avatar.jpg">
      <meta itemprop="name" content="賴俊吾 / Oberon Lai">
      <meta itemprop="description" content="現為全職 WordPress 工程師，網站開發經歷 11 年，專攻前端工程與 WordPress 佈景主題、外掛客製化開發">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="WordPress 開發日常">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/tw/%E6%95%B8%E4%BD%8D%E6%96%B7%E6%8D%A8%E9%9B%A2/" class="post-title-link" itemprop="url">數位斷捨離三十天全記錄</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>

              <time title="創建時間：2020-02-10 12:22:52" itemprop="dateCreated datePublished" datetime="2020-02-10T12:22:52+08:00">2020-02-10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新於</span>
                <time title="修改時間：2021-05-01 21:12:01" itemprop="dateModified" datetime="2021-05-01T21:12:01+08:00">2021-05-01</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/%E8%80%81%E4%BA%BA%E7%A2%8E%E5%BF%B5/" itemprop="url" rel="index"><span itemprop="name">老人碎念</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/tw/%E6%95%B8%E4%BD%8D%E6%96%B7%E6%8D%A8%E9%9B%A2/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="數位斷捨離/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
            <span class="post-meta-item" title="文章字數">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
              <span>13k</span>
            </span>
            <span class="post-meta-item" title="所需閱讀時間">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
              <span>11 分鐘</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="Day0"><a href="#Day0" class="headerlink" title="Day0"></a>Day0</h2><p>上週意識到自己已經被排山倒海的工作以及隨找隨到的壓力壓得喘不過氣來，因而造成暴起暴落的情緒還影響到他人，決定重新審視自己的每日工作，試圖改善這樣的狀況。</p>
<p>拜日讀了「<a target="_blank" rel="noopener" href="https://www.books.com.tw/products/0010843512">深度數位大掃除</a>」這本書才知道，原來已經有非常多的專家早就意識到社群媒體所帶來的危害，包括無時無刻的線上 stand by、每三分鐘刷一次社群網站、每五分鐘打開一次通訊軟體查看有沒有新訊息，早就造成了現代人無法獨處必須持續線上淺社交的焦慮。</p>
<p>每當看到朋友在社群媒體上精心展現的照片、心得文，都會覺得自己過得太混太廢，因而產生焦慮，更嚴重的是因為工作的關係必須隨時處理通訊軟體傳來的訊息，看到卻不處理更造成自己的罪惡感，因此明白自己病情有點嚴重了。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/tw/%E6%95%B8%E4%BD%8D%E6%96%B7%E6%8D%A8%E9%9B%A2/#more" rel="contents">
                閱讀全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/tw/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/tw/page/13/">13</a><a class="extend next" rel="next" href="/tw/page/2/"><i class="fa fa-angle-right" aria-label="下一頁"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目錄
        </li>
        <li class="sidebar-nav-overview">
          本站概要
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="賴俊吾 / Oberon Lai"
      src="/tw/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">賴俊吾 / Oberon Lai</p>
  <div class="site-description" itemprop="description">現為全職 WordPress 工程師，網站開發經歷 11 年，專攻前端工程與 WordPress 佈景主題、外掛客製化開發</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/tw/archives">
          <span class="site-state-item-count">255</span>
          <span class="site-state-item-name">文章</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/tw/categories/">
        <span class="site-state-item-count">37</span>
        <span class="site-state-item-name">分類</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tw/tags/">
        <span class="site-state-item-count">68</span>
        <span class="site-state-item-name">標籤</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/oberonlai" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;oberonlai" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:m615926@gmail.com" title="E-Mail → mailto:m615926@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://twitter.com/oberonlai" title="Twitter → https:&#x2F;&#x2F;twitter.com&#x2F;oberonlai" rel="noopener" target="_blank"><i class="fab fa-twitter fa-fw"></i>Twitter</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.facebook.com/m615926" title="FB Page → https:&#x2F;&#x2F;www.facebook.com&#x2F;m615926" rel="noopener" target="_blank"><i class="fab fa-facebook fa-fw"></i>FB Page</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">賴俊吾 / Oberon Lai</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="總字數">593k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="所需總閱讀時間">8:59</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://mist.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Mist</a> 強力驅動
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/tw/lib/anime.min.js"></script>
  <script src="/tw/lib/pjax/pjax.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/medium-zoom@1/dist/medium-zoom.min.js"></script>

<script src="/tw/js/utils.js"></script>


<script src="/tw/js/schemes/muse.js"></script>


<script src="/tw/js/next-boot.js"></script>

  <script>
var pjax = new Pjax({
  selectors: [
    'head title',
    '#page-configurations',
    '.content-wrap',
    '.post-toc-wrap',
    '.languages',
    '#pjax'
  ],
  switches: {
    '.post-toc-wrap': Pjax.switches.innerHTML
  },
  analytics: false,
  cacheBust: false,
  scrollTo : !CONFIG.bookmark.enable
});

window.addEventListener('pjax:success', () => {
  document.querySelectorAll('script[data-pjax], script#page-configurations, #pjax script').forEach(element => {
    var code = element.text || element.textContent || element.innerHTML || '';
    var parent = element.parentNode;
    parent.removeChild(element);
    var script = document.createElement('script');
    if (element.id) {
      script.id = element.id;
    }
    if (element.className) {
      script.className = element.className;
    }
    if (element.type) {
      script.type = element.type;
    }
    if (element.src) {
      script.src = element.src;
      // Force synchronous loading of peripheral JS.
      script.async = false;
    }
    if (element.dataset.pjax !== undefined) {
      script.dataset.pjax = '';
    }
    if (code !== '') {
      script.appendChild(document.createTextNode(code));
    }
    parent.appendChild(script);
  });
  NexT.boot.refresh();
  // Define Motion Sequence & Bootstrap Motion.
  if (CONFIG.motion.enable) {
    NexT.motion.integrator
      .init()
      .add(NexT.motion.middleWares.subMenu)
      .add(NexT.motion.middleWares.postList)
      .bootstrap();
  }
  NexT.utils.updateSidebarPosition();
});
</script>




  




  
<script src="/tw/js/local-search.js"></script>













    <div id="pjax">
  

  

<script>
  function loadCount() {
    var d = document, s = d.createElement('script');
    s.src = 'https://oberon-lai.disqus.com/count.js';
    s.id = 'dsq-count-scr';
    (d.head || d.body).appendChild(s);
  }
  // defer loading until the whole page loading is completed
  window.addEventListener('load', loadCount, false);
</script>

    </div>
</body>
</html>
