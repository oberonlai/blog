<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/tw/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/tw/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/tw/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/tw/images/logo.svg" color="#222">
  <meta http-equiv="Cache-Control" content="no-transform">
  <meta http-equiv="Cache-Control" content="no-siteapp">

<link rel="stylesheet" href="/tw/css/main.css">


<link rel="stylesheet" href="/tw/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"oberonlai.blog","root":"/tw/","scheme":"Mist","version":"7.8.0","exturl":false,"sidebar":{"position":"right","display":"post","padding":18,"offset":12,"onmobile":true},"copycode":{"enable":true,"show_result":true,"style":"mac"},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":true,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":"disqus","storage":true,"lazyload":false,"nav":{"disqus":{"text":"Load Disqus","order":-1}}},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":false,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideDownIn","sidebar":"slideDownIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="現為全職 WordPress 工程師，網站開發經歷 11 年，專攻前端工程與 WordPress 佈景主題、外掛客製化開發">
<meta property="og:type" content="website">
<meta property="og:title" content="WordPress 開發日常">
<meta property="og:url" content="https://oberonlai.blog/tw/">
<meta property="og:site_name" content="WordPress 開發日常">
<meta property="og:description" content="現為全職 WordPress 工程師，網站開發經歷 11 年，專攻前端工程與 WordPress 佈景主題、外掛客製化開發">
<meta property="og:locale" content="zh_TW">
<meta property="article:author" content="賴俊吾 &#x2F; Oberon Lai">
<meta property="article:tag" content="WordPress,PHP,WordPress 外掛開發,WordPress 佈景主題開發,WordPress 工程師,敏捷接案,時薪計價,專案管理">
<meta name="twitter:card" content="summary">
<meta property="og:image" content="/tw/images/og-img.jpg" />

<link rel="canonical" href="https://oberonlai.blog/tw/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-TW'
  };
</script>

  <title>WordPress 開發日常 - 有任何 WordPress 客製需求歡迎與我聯絡！</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-163107142-1"></script>
    <script data-pjax>
      if (CONFIG.hostname === location.hostname) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'UA-163107142-1');
      }
    </script>






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切換導航欄">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta custom-logo">

    <a href="/tw/" class="brand" rel="start" style="display: block">
        <img class="logo-img" src="/tw/images/logo-w.svg" alt="WordPress 開發日常">
    </a>
      <p class="site-subtitle" itemprop="description">有任何 WordPress 客製需求歡迎與我聯絡！</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-關於我">

    <a href="/tw/about/" rel="section">關於我</a>

  </li>
        <li class="menu-item menu-item-合作方式">

    <a href="/tw/how-can-oberon-help-you/" rel="section">合作方式</a>

  </li>
        <li class="menu-item menu-item-計價方式">

    <a href="/tw/how-do-i-make-a-quotation/" rel="section">計價方式</a>

  </li>
        <li class="menu-item menu-item-合作徵求">

    <a href="/tw/recruit/" rel="section">合作徵求</a>

  </li>
        <li class="menu-item menu-item-與我聯繫">

    <a href="mailto:m615926@gmail.com" rel="noopener" target="_blank">與我聯繫</a>

  </li>
        <li class="menu-item menu-item-訂閱">

    <a href="https://successful-trader-4225.ck.page/bbe15da0e6" rel="noopener" target="_blank">訂閱</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger">搜尋
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜尋..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>

  <a href="https://github.com/oberonlai" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://oberonlai.blog/tw/wordpress-plugin-ipfs-upload/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/tw/images/avatar.jpg">
      <meta itemprop="name" content="賴俊吾 / Oberon Lai">
      <meta itemprop="description" content="現為全職 WordPress 工程師，網站開發經歷 11 年，專攻前端工程與 WordPress 佈景主題、外掛客製化開發">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="WordPress 開發日常">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/tw/wordpress-plugin-ipfs-upload/" class="post-title-link" itemprop="url">WordPress IPFS 媒體庫上傳外掛</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>
              

              <time title="創建時間：2021-12-10 10:00:00 / 修改時間：10:31:57" itemprop="dateCreated datePublished" datetime="2021-12-10T10:00:00+08:00">2021-12-10</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/%E5%8D%80%E5%A1%8A%E9%8F%88/" itemprop="url" rel="index"><span itemprop="name">區塊鏈</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/%E5%8D%80%E5%A1%8A%E9%8F%88/%E5%8A%A0%E5%AF%86%E8%B2%A8%E5%B9%A3/" itemprop="url" rel="index"><span itemprop="name">加密貨幣</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/%E5%8D%80%E5%A1%8A%E9%8F%88/%E5%8A%A0%E5%AF%86%E8%B2%A8%E5%B9%A3/IPFS/" itemprop="url" rel="index"><span itemprop="name">IPFS</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/%E5%8D%80%E5%A1%8A%E9%8F%88/%E5%8A%A0%E5%AF%86%E8%B2%A8%E5%B9%A3/IPFS/Filecoin/" itemprop="url" rel="index"><span itemprop="name">Filecoin</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="文章字數">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
              <span>3.7k</span>
            </span>
            <span class="post-meta-item" title="所需閱讀時間">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
              <span>3 分鐘</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>還在擔心因為網站圖片太多而讓主機硬碟爆掉嗎？或是因為瞬間讀取圖片而造成主機的資源耗盡？想要租用圖床服務卻不知道哪家好？甚至是圖床服務費用超出預期的想像？現在拜分散式儲存以及區塊鏈技術所賜，你有不同的選擇：星際檔案系統 IPFS ( InterPlanetary File System )。</p>
<p>在介紹外掛之前先來科普一下 IPFS：</p>
<p>IPFS 是一種傳輸協定，它可以連結所有使用這套協定的電腦（節點），進而形成一種區域網路，所有人都可以加入成為這個網路的一份子，並且彼此分享傳輸檔案，另一方面，為了讓更多人願意加入這個網路，尤其是貢獻硬碟空間來存放 IPFS 網路中的檔案，Filecoin 因此誕生，只要你願意讓你的電腦存放檔案，以及同意讓有需要該檔案的人透過你的電腦來取得，你就可以賺到 Filecoin。</p>
<p>Filecoin 自己本身也是一個網路，而它的組成是根基於 IPFS，因此我們可以選擇把檔案放在 IPFS 節點或是 Filecoin 節點，存放在 IPFS 節點的風險在於該節點並未有任何的約束來確保我們的檔案會被長久存放，也許該節點的擁有人發現他的硬碟快爆了，就會開始把所有已存放的檔案刪除（包含我們的檔案），這樣想要我們檔案的人就連不到了，雖然 IPFS 會把檔案分散在不同的節點上，但還是不太穩。</p>
<p>相較之下，上傳到 Filecoin 節點會比較保險一些，因為該節點的擁有人為了要賺取 Filecoin，因此會投入足夠的硬體設備來存放資料，藉此確保檔案的長期保存。至於每個節點擁有人要賺取的錢從何而來？使用者付費，也就是需要將檔案保存在 FIlecoin 節點的使用者，等於是上傳者付一筆錢請 Filecoin 節點儲存他的檔案，就跟我們使用 Dropbox 或是租 Amazon S3 一樣，差別在於這些節點是分散在全世界而非由少數企業所把持。</p>
<p>另外還有一個不一樣的地方是請求檔案的流量費，當我們要取得一個存放在 Filecoin 節點中的檔案時也需要付費給該節點，這讓沒有硬碟空間但可以連網的電腦也能加入這個網路來獲取報酬，進而增加整個網路的節點分佈提升存取效率。</p>
<p>要將檔案上傳到 IPFS 或是 Filecoin 節點不是一件容易的事，因此目前有出現幾間「中心化」的服務協助我們將檔案上傳，除了提供視覺化的上傳介面，對於工程師來說也有很方便的 API 可以使用。而這些服務透過補貼使用者來提高使用率，也就是說我們將檔案存放在 Filecoin 節點不用付錢，而是他們自行吸收。</p>
<p>但也有收取固定月費的儲存服務，如果超過一定的基準會根據使用量再酌收費用，而且會收硬碟以及頻寬費用，因為對 Filecoin 網路來說，這些儲存服務商就是使用者，因此他們會需要把經營成本轉嫁在我們身上。</p>
<p>根據目前手邊查到的資料，主要在經營 IPFS 儲存服務的有四家，免費與付費各半：</p>
<h2 id="NFT-Storage"><a href="#NFT-Storage" class="headerlink" title="NFT.Storage"></a><a target="_blank" rel="noopener" href="https://nft.storage/">NFT.Storage</a></h2><p><img src="https://oberonlai.blog/wp-content/uploads/wordpress-plugin-ipfs-upload/wordpress-plugin-ipfs-upload-01.jpg"></p>
<p>NFT.Storage 是免費的服務商，它沒有限制上傳空間以及流量，有限制的是只能上傳圖片，因為它是專門提供給 NFT 存放圖片用的，因此不能透過它上傳影片或是聲音檔。另一個限制是單檔不能超過  31 GiB ( 33GB )，檔案過大它會自動分割上傳。另外實測後發現它的 API 會有存取限制，稍後會再說明。</p>
<h2 id="Web3-Storage"><a href="#Web3-Storage" class="headerlink" title="Web3.Storage"></a><a target="_blank" rel="noopener" href="https://web3.storage/">Web3.Storage</a></h2><p><img src="https://oberonlai.blog/wp-content/uploads/wordpress-plugin-ipfs-upload/wordpress-plugin-ipfs-upload-02.jpg"></p>
<p>Web3.Storage 也是免費的服務商，它提供開發者一套 JavaScript Library 來處理上傳，它也是限制單檔不能超過 31 GiB ( 33GB )，而每個帳號有 1TB 的硬碟空間額度，它的優點是沒有限制上傳檔案類型，1TB 的使用量要用它來打造一些服務感覺也是非常夠用的。</p>
<h2 id="Pinata-Cloud"><a href="#Pinata-Cloud" class="headerlink" title="Pinata.Cloud"></a><a target="_blank" rel="noopener" href="https://www.pinata.cloud/">Pinata.Cloud</a></h2><p><img src="https://oberonlai.blog/wp-content/uploads/wordpress-plugin-ipfs-upload/wordpress-plugin-ipfs-upload-03.jpg"></p>
<p>Pinata 是一套付費的 IPFS 儲存服務，免費方案提供 1GB 的空間，付費方案提供每月 100GB 的頻寬以及每 GB 0.15 美元的儲存費用，它比較特的地方有兩點，第一個是它的付費方案提供一個 Gateway，也就是你可以將你自己的網址對應到 IPFS 上面的檔案，IPFS 上傳後的網址長得像這樣：<a target="_blank" rel="noopener" href="https://ipfs.io/ipfs/bafkreiguxr2tcuqvl2bord23zhajmuer6t4fdu33u6trjnhijeizg4bjhy">https://ipfs.io/ipfs/bafkreiguxr2tcuqvl2bord23zhajmuer6t4fdu33u6trjnhijeizg4bjhy</a>，又臭又長而且根本不可能記住，而 Pinata 可以解決這個問題。</p>
<p>另一個特點是 Pinata 可以將上傳後的檔案隱藏起來，由於 IPFS 都是公開網路，只要檔案一傳上去就就會被所有人存取，這對於想要控管檔案權限的使用者不怎麼友善，透過 Pinata 的技術可以將上傳後的檔案做控管。</p>
<h2 id="Space"><a href="#Space" class="headerlink" title="Space"></a><a target="_blank" rel="noopener" href="https://space.storage/">Space</a></h2><p><img src="https://oberonlai.blog/wp-content/uploads/wordpress-plugin-ipfs-upload/wordpress-plugin-ipfs-upload-04.jpg"></p>
<p>Space 是一套付費的儲存服務，跟上述三套不太相同的地方是它專注在提供個人儲存，也就是想要取代 Dropbox、Google Drive 等服務。Space 提供有相同需求的使用者，因此它的權限控管都比上述的服務來得完整許多。免費方案提供 5GB 的空間，付費方案每月 11 美金有 500GB 的空間，超過的話每 GB 0.02 美金計價，並且沒有額外的流量費。</p>
<h2 id="WordPress-IPFS-Upload"><a href="#WordPress-IPFS-Upload" class="headerlink" title="WordPress IPFS Upload"></a>WordPress IPFS Upload</h2><p><img src="https://oberonlai.blog/wp-content/uploads/wordpress-plugin-ipfs-upload/wordpress-plugin-ipfs-upload-05.jpg"></p>
<p>身為 WordPress 重度使用者的我一直在思考該如何把 IPFS 的技術帶到 WordPress上面，於是就誕生了 WordPress IPFS Upload 這支外掛，它主要的功能是透過第三方儲存服務的 API，讓 WordPress 使用者可以直接在媒體庫把照片傳上 IPFS 的節點，這中間不需要任何的技術、不用懂得 IPFS 協議，更不用付半毛 Filecon（目前是），就能讓網站的圖片長期保存在全世界的節點中。</p>
<p>以下就安裝&amp;使用步驟進行說明。</p>
<p><strong>一、前往 Github 下載外掛檔</strong></p>
<p>由於該外掛還在測試版本因此未上架官方目錄，如果你想要試用的話先前往 Github 存放庫進行下載：<a target="_blank" rel="noopener" href="https://github.com/oberonlai/ipfs-upload/archive/refs/tags/v1.0.0.zip">https://github.com/oberonlai/ipfs-upload/archive/refs/tags/v1.0.0.zip</a>，將下載後的 zip 檔更名為 ipfs-upload.zip。</p>
<p><strong>二、上傳 ipfs-upload.zip</strong></p>
<p>登入 WordPress 後台，進入外掛 &gt; 外掛安裝，點選上傳外掛，選擇 ipfs-upload.zip 進行上傳</p>
<p><img src="https://oberonlai.blog/wp-content/uploads/wordpress-plugin-ipfs-upload/wordpress-plugin-ipfs-upload-06.jpg"></p>
<p><strong>三、取得 NFT.Storage API Key</strong></p>
<p>IPFS Upload 是串接 NFT.Storage 的 API，因此我們需要先取得它的 API 金鑰，前往 <a target="_blank" rel="noopener" href="https://nft.storage/">https://nft.storage</a>，並點選右上角的 Login，可以使用 Email 或是 Github 帳號進行註冊：</p>
<p><img src="https://oberonlai.blog/wp-content/uploads/wordpress-plugin-ipfs-upload/wordpress-plugin-ipfs-upload-07.jpg"></p>
<p>註冊完成後會看到已上傳圖片列表，在上方的選單中找到 API Keys 這個選項：</p>
<p><img src="https://oberonlai.blog/wp-content/uploads/wordpress-plugin-ipfs-upload/wordpress-plugin-ipfs-upload-08.jpg"></p>
<p>點選 New Key 後輸入一個可以辨識的名稱，再點選 create 完成新增，新增成功後把 Key 複製起來，稍後貼回網站裡面：</p>
<p><img src="https://oberonlai.blog/wp-content/uploads/wordpress-plugin-ipfs-upload/wordpress-plugin-ipfs-upload-09.jpg"></p>
<p><img src="https://oberonlai.blog/wp-content/uploads/wordpress-plugin-ipfs-upload/wordpress-plugin-ipfs-upload-10.jpg"></p>
<p><img src="https://oberonlai.blog/wp-content/uploads/wordpress-plugin-ipfs-upload/wordpress-plugin-ipfs-upload-11.jpg"></p>
<p><strong>四、設定 API Key</strong></p>
<p>進入 WordPress 後台 &gt; 設定 &gt; IPFS Uplaod，可以看到 Key 的設定畫面，把剛剛複製的 Key 貼入後按下儲存，即可完成設定：</p>
<p><img src="https://oberonlai.blog/wp-content/uploads/wordpress-plugin-ipfs-upload/wordpress-plugin-ipfs-upload-12.jpg"></p>
<p><strong>五、圖檔上傳</strong></p>
<p>最後進入媒體庫，點選任何一張圖片，就可以看到 IPFS Upload 的按鈕，點下去後它就會執行上傳，完成後會顯示 IPFS 的網址連結，你就可以把該連結插入到文章或是頁面之中，取代原本的圖片路徑：</p>
<p><img src="https://oberonlai.blog/wp-content/uploads/wordpress-plugin-ipfs-upload/wordpress-plugin-ipfs-upload-13.jpg"></p>
<p><img src="https://oberonlai.blog/wp-content/uploads/wordpress-plugin-ipfs-upload/wordpress-plugin-ipfs-upload-14.jpg"></p>
<p><img src="https://oberonlai.blog/wp-content/uploads/wordpress-plugin-ipfs-upload/wordpress-plugin-ipfs-upload-15.jpg"></p>
<p>如果需要一次上傳多張的話，可以點選媒體庫列表中上方的批次選取按鈕，勾選需要上傳的圖片後，點擊 Upload to IPFS：</p>
<p><img src="https://oberonlai.blog/wp-content/uploads/wordpress-plugin-ipfs-upload/wordpress-plugin-ipfs-upload-16.jpg"></p>
<p><img src="https://oberonlai.blog/wp-content/uploads/wordpress-plugin-ipfs-upload/wordpress-plugin-ipfs-upload-17.jpg"></p>
<p>目前已知的問題是如果同時上傳超過 10 張，可能會造成上傳失敗，另外一個比較棘手的問題是上傳後的網址，上文提及 Pinata 提供 Gateway 可以自訂網址，可惜 NFT.Storage 沒有提供這樣的功能，目前找的解決辦法是 CDN 廠商 Cloudflare 有免費提供他們的 Gateway，邏輯是用 Proxy 的方式把我們的網址指到 cloudflare-ipfs.com，再透過這個網址對應到 ipfs.io 上面。</p>
<p>具體的設定方式為先新增一筆 CNAME 名稱為你的網址，然後目標是 cloudflare-ipfs.com：</p>
<p><img src="https://oberonlai.blog/wp-content/uploads/wordpress-plugin-ipfs-upload/wordpress-plugin-ipfs-upload-18.jpg"></p>
<p>然後再新增一筆 TXT 來指定要對應的 IFPS CID，CID 具體指的是路徑 ipfs.io/ipfs/bafkreiguxr2tcuqvl2bord23zhajmuer6t4fdu33u6trjnhijeizg4bjhy 最後面的「bafkreiguxr2tcuqvl2bord23zhajmuer6t4fdu33u6trjnhijeizg4bjhy」這一段：</p>
<p><img src="https://oberonlai.blog/wp-content/uploads/wordpress-plugin-ipfs-upload/wordpress-plugin-ipfs-upload-19.jpg"></p>
<p>設定好之後就可以使用我們自己的網址來連到 IPFS 上面的檔案，更多說明可以參考 Cloudflare 的<a target="_blank" rel="noopener" href="https://developers.cloudflare.com/distributed-web/ipfs-gateway/connecting-website">官方文件</a>。</p>
<p>對，你跟我想的一樣，這個解決方案麻煩到爆炸XDD，首先必須是要把網址的 DNS 託管在 Cloudflare，其次是每個檔案都需要手動添加 TXT，雖然 Cloudflare 有提供 API 可以透過程式加入 DNS 紀錄，但這個作法我覺得還是綁手綁腳的，如果真的要商用的話我自己可能還是會選擇 Pinata 來串接。</p>
<p>希望透過本文的分享可以讓大家認識到 IPFS 的實際應用層面，在現在滿天都是區塊鏈的熱潮中，要能夠找到自己有興趣研究的項目鑽研下去才不會受到幣價的波動而迷失自我，我也還在學習著努力不去每天看 FIL 的幣價XD。</p>
<p>如果有任何關於這支外掛使用上的問題歡迎回報，有任何建議也歡迎跟我說，希望讓 WordPress 也可以搭上這波去中心化趨勢，下週五見！</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://oberonlai.blog/tw/fear-of-missing-out/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/tw/images/avatar.jpg">
      <meta itemprop="name" content="賴俊吾 / Oberon Lai">
      <meta itemprop="description" content="現為全職 WordPress 工程師，網站開發經歷 11 年，專攻前端工程與 WordPress 佈景主題、外掛客製化開發">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="WordPress 開發日常">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/tw/fear-of-missing-out/" class="post-title-link" itemprop="url">關於區塊鏈我看見的是...</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>
              

              <time title="創建時間：2021-12-03 11:00:00 / 修改時間：12:30:57" itemprop="dateCreated datePublished" datetime="2021-12-03T11:00:00+08:00">2021-12-03</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/%E5%8D%80%E5%A1%8A%E9%8F%88/" itemprop="url" rel="index"><span itemprop="name">區塊鏈</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/%E5%8D%80%E5%A1%8A%E9%8F%88/%E5%8A%A0%E5%AF%86%E8%B2%A8%E5%B9%A3/" itemprop="url" rel="index"><span itemprop="name">加密貨幣</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/%E5%8D%80%E5%A1%8A%E9%8F%88/%E5%8A%A0%E5%AF%86%E8%B2%A8%E5%B9%A3/IPFS/" itemprop="url" rel="index"><span itemprop="name">IPFS</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/%E5%8D%80%E5%A1%8A%E9%8F%88/%E5%8A%A0%E5%AF%86%E8%B2%A8%E5%B9%A3/IPFS/Filecoin/" itemprop="url" rel="index"><span itemprop="name">Filecoin</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="文章字數">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
              <span>3.5k</span>
            </span>
            <span class="post-meta-item" title="所需閱讀時間">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
              <span>3 分鐘</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>不知道你有沒有發現近幾個月來身邊出現越來越多關於區塊鏈、加密貨幣以及 NFT 的相關資訊與新聞？尤其是前陣子的 NFT 熱潮，我每次只要打開臉書就會看到某某 NFT 又創下天價，然後一堆留言準備揪團搶盲盒，因為出現的頻率實在是太頻繁了，讓本來對於把這些行為視為投機炒作的我，不得不停下腳步來研究這件事背後所代表的意義，結果不研究還好，一研究下去才發現這是會影響這個世代整個網路甚至是社會發展的重大突破。</p>
<p>放下成見後，開始學習著建立錢包、申請交易所、做不完的 KYC（一種避免洗錢的實名制）、每天沒事看個盤、認識永遠認識不完的新加密貨幣背後是幹嘛用的，更不用說一堆新冒出來的 Defi 商品、DAO 治理、NFT，以及最近越來越火熱的區塊鏈遊戲，這一切在 Facebook 改名為 Meta 達到了社群討論的高峰，也在這時候，我發現自己開始有錯失恐懼症 ( FOMO )。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/tw/fear-of-missing-out/#more" rel="contents">
                閱讀全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://oberonlai.blog/tw/wordpress-plugin-template/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/tw/images/avatar.jpg">
      <meta itemprop="name" content="賴俊吾 / Oberon Lai">
      <meta itemprop="description" content="現為全職 WordPress 工程師，網站開發經歷 11 年，專攻前端工程與 WordPress 佈景主題、外掛客製化開發">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="WordPress 開發日常">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/tw/wordpress-plugin-template/" class="post-title-link" itemprop="url">WordPress 外掛與前端整合 - 範本</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>
              

              <time title="創建時間：2021-11-26 11:00:00 / 修改時間：11:55:20" itemprop="dateCreated datePublished" datetime="2021-11-26T11:00:00+08:00">2021-11-26</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/wordpress-%E5%A4%96%E6%8E%9B%E9%96%8B%E7%99%BC/" itemprop="url" rel="index"><span itemprop="name">wordpress 外掛開發</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/wordpress-%E5%A4%96%E6%8E%9B%E9%96%8B%E7%99%BC/%E4%BD%88%E6%99%AF%E4%B8%BB%E9%A1%8C/" itemprop="url" rel="index"><span itemprop="name">佈景主題</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/wordpress-%E5%A4%96%E6%8E%9B%E9%96%8B%E7%99%BC/%E4%BD%88%E6%99%AF%E4%B8%BB%E9%A1%8C/template-%E7%AF%84%E6%9C%AC/" itemprop="url" rel="index"><span itemprop="name">template 範本</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="文章字數">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
              <span>4.3k</span>
            </span>
            <span class="post-meta-item" title="所需閱讀時間">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
              <span>4 分鐘</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>近期我寫了一套給開發者&amp;自己用的套件，主要功能是簡化外掛開發時載入佈景主題範本的需求，以往在學習開發佈景主題時，常會看到下面這張圖來解釋 WordPress 範本的繼承關係：</p>
<p><img src="https://developer.wordpress.org/files/2014/10/Screenshot-2019-01-23-00.20.04.png"></p>
<p>這張圖很完整的說明當使用者造訪特定頁面時會對應的範本檔，這方面的知識可以參考 WordCamp Taipei 2019 的這場分享：「<a target="_blank" rel="noopener" href="https://wordpress.tv/2020/06/08/barry-lin-wordpress-%E5%88%9D%E5%AD%B8%E8%80%85%E4%B8%96%E7%95%8C%EF%BC%8C%E4%BD%88%E6%99%AF%E7%B5%90%E6%A7%8B%E6%A6%82%E5%BF%B5%E8%AB%87%EF%BC%81-theme-hierarchy-for-beginners/">Barry Lin: WordPress 初學者世界，佈景結構概念談！</a>」。既然範本檔主要是佈景主題在設計前台畫面使用的，跟開發外掛有什麼關係呢？事實上在實務中還滿常碰到的，像是如果你的外掛有新增自定義文章，就會需要設計該文章的範本，可能是文章內頁或是彙整頁。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/tw/wordpress-plugin-template/#more" rel="contents">
                閱讀全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://oberonlai.blog/tw/recruit/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/tw/images/avatar.jpg">
      <meta itemprop="name" content="賴俊吾 / Oberon Lai">
      <meta itemprop="description" content="現為全職 WordPress 工程師，網站開發經歷 11 年，專攻前端工程與 WordPress 佈景主題、外掛客製化開發">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="WordPress 開發日常">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/tw/recruit/" class="post-title-link" itemprop="url">想認識也在用 WordPress 接案的你！</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>
              

              <time title="創建時間：2021-11-19 11:00:00 / 修改時間：17:14:48" itemprop="dateCreated datePublished" datetime="2021-11-19T11:00:00+08:00">2021-11-19</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/%E5%BE%B5%E6%89%8D/" itemprop="url" rel="index"><span itemprop="name">徵才</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/%E5%BE%B5%E6%89%8D/%E6%95%8F%E6%8D%B7%E5%BC%8F%E6%8E%A5%E6%A1%88/" itemprop="url" rel="index"><span itemprop="name">敏捷式接案</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="文章字數">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
              <span>3.4k</span>
            </span>
            <span class="post-meta-item" title="所需閱讀時間">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
              <span>3 分鐘</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><img src="https://oberonlai.blog/wp-content/uploads/recruit/recruit-01.jpg"></p>
<p>上個月我終於完成一件拖了十年的事情，那就是正式成立登記公司啦！ 🎉</p>
<p>之所以會拖這麼多年，最大的原因是案件的工作收入不穩定，在淡季的時候好幾個月沒收入是很常見的情形，只能靠著在旺季時累積下來的收入過活，而成立公司每個月就有固定的開銷要支出，像是支付給會計的作帳費用以及辦公室租金，這些費用會墊高我每個月的生活成本，所以這些年來都是靠著朋友們的義氣相挺來處理發票與稅務問題。</p>
<p>然而自從去年年中轉型為敏捷式接案後，每個月的收入再也不會受到淡旺季影響，再加上找到了自己的商業模式，因此覺得是時機成熟該來成立公司了，決定後我找了 Simpany 這間公司代辦，整個登記流程完全無痛，基本上就是他們請我做什麼我照做就對了，比較花時間的就是要跑一趟國稅局跟兩趟銀行，其他他們都會協助處理，還會幫你上課教你稅務相關的知識，如果你剛好也要登記公司我大推 Simpany。</p>
<p>當第一次開出電子發票的時候，有種莫名的感動，不管是因為花了這麼久時間才走到這一步，還是回想起這一路上受到多少朋友的幫助，或者只是單純不用再因為手殘寫錯數字大寫懊惱跟追討寄丟的紙本發票，總之當按下開立發票的按鈕時，我知道自己已經達到一個里程碑，準備好邁入下一個階段。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/tw/recruit/#more" rel="contents">
                閱讀全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://oberonlai.blog/tw/woocommerce-product-dynamic-price/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/tw/images/avatar.jpg">
      <meta itemprop="name" content="賴俊吾 / Oberon Lai">
      <meta itemprop="description" content="現為全職 WordPress 工程師，網站開發經歷 11 年，專攻前端工程與 WordPress 佈景主題、外掛客製化開發">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="WordPress 開發日常">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/tw/woocommerce-product-dynamic-price/" class="post-title-link" itemprop="url">WooCommerce 客製化商品外掛</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>
              

              <time title="創建時間：2021-11-12 11:00:00 / 修改時間：11:22:34" itemprop="dateCreated datePublished" datetime="2021-11-12T11:00:00+08:00">2021-11-12</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/WooCommerce/" itemprop="url" rel="index"><span itemprop="name">WooCommerce</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/WooCommerce/WooCommerce-%E5%A4%96%E6%8E%9B/" itemprop="url" rel="index"><span itemprop="name">WooCommerce 外掛</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="文章字數">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
              <span>2.9k</span>
            </span>
            <span class="post-meta-item" title="所需閱讀時間">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
              <span>3 分鐘</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>上週遇到一個很有趣的需求，客戶來信說希望可以在商品頁面增加一個文字欄位輸入框，當顧客輸入數字時可以改變商品售價，這位客戶的網站是販售某種電線還纜線之類的產品，除了會依照線的材質會有不同的售價外，還會根據線的長度來計價。</p>
<p>具體的需求是他們希望當顧客輸入 1~100 這個區間的任意數字時，商品售價可以依照公式計算出除了基本規格的售價外，再將長度變數加入最後價格中，假設當商品售價初始價格為 100 元，輸入 10 會變成 110 元，輸入 50 會變成 150 元，有點類似客製化商品的作法。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/tw/woocommerce-product-dynamic-price/#more" rel="contents">
                閱讀全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://oberonlai.blog/tw/know-you-specification/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/tw/images/avatar.jpg">
      <meta itemprop="name" content="賴俊吾 / Oberon Lai">
      <meta itemprop="description" content="現為全職 WordPress 工程師，網站開發經歷 11 年，專攻前端工程與 WordPress 佈景主題、外掛客製化開發">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="WordPress 開發日常">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/tw/know-you-specification/" class="post-title-link" itemprop="url">掌握五個原則，清楚表達案件需求</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>
              

              <time title="創建時間：2021-11-05 11:00:00 / 修改時間：11:54:09" itemprop="dateCreated datePublished" datetime="2021-11-05T11:00:00+08:00">2021-11-05</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/%E5%B0%88%E6%A1%88%E7%AE%A1%E7%90%86/" itemprop="url" rel="index"><span itemprop="name">專案管理</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/%E5%B0%88%E6%A1%88%E7%AE%A1%E7%90%86/%E9%9C%80%E6%B1%82%E8%A8%AA%E8%AB%87/" itemprop="url" rel="index"><span itemprop="name">需求訪談</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="文章字數">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
              <span>1.7k</span>
            </span>
            <span class="post-meta-item" title="所需閱讀時間">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
              <span>2 分鐘</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>快到年末，又是案量的高峰期，這一週不約而同遇到三位來信的陌生客戶，都很困擾不知道該如何整理需求讓我理解，而我的回覆都是只要用你們自己方便的方式即可，不管是文字描述、截圖說明，甚至是錄製影片都可以，但後來想想這樣的解釋似乎太籠統了，於是順手紀錄一下如何表達案件需求讓執行者可以快速理解，進而減少 Email 的往返時間。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/tw/know-you-specification/#more" rel="contents">
                閱讀全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://oberonlai.blog/tw/wordpress-learning-books/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/tw/images/avatar.jpg">
      <meta itemprop="name" content="賴俊吾 / Oberon Lai">
      <meta itemprop="description" content="現為全職 WordPress 工程師，網站開發經歷 11 年，專攻前端工程與 WordPress 佈景主題、外掛客製化開發">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="WordPress 開發日常">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/tw/wordpress-learning-books/" class="post-title-link" itemprop="url">12 本 WordPress 開發者必讀書籍</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>
              

              <time title="創建時間：2021-10-22 11:00:00 / 修改時間：11:32:57" itemprop="dateCreated datePublished" datetime="2021-10-22T11:00:00+08:00">2021-10-22</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/WordPress-%E9%96%8B%E7%99%BC/" itemprop="url" rel="index"><span itemprop="name">WordPress 開發</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="文章字數">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
              <span>3.8k</span>
            </span>
            <span class="post-meta-item" title="所需閱讀時間">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
              <span>3 分鐘</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>前幾週聊到我的 WordPress 開發學習歷程，基本上都是遇到自己過不去的關卡時，靠著搜尋找到語法然後複製貼上拼湊成自己需要的答案，這樣的過程持續了很多年，直到每次要重新回去修改舊的程式碼發現完全改不動或是完全不記得該如何修改，以及改東牆壞西牆的狀況ㄧ再發生後，我才決定回歸基礎，改變先前只想快速找到答案的心態。</p>
<p>如果你也是跟我一樣的歷程，我是覺得少了基礎直接去實戰也沒有什麼不好，我是那種只看理論就會睡著的學生，當我不知道學這個東西可以用在哪裡時，我就完全沒有學習的動力，所以當我經過多年實戰再回頭看這些基礎時，反而會覺得好像重新認識了工作，不管是對於工具的理解還是每一行程式碼代表的意義，進而體會到自己的不足，才能保持著每天都在學習的心態來面對今天的工作。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/tw/wordpress-learning-books/#more" rel="contents">
                閱讀全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://oberonlai.blog/tw/what-did-i-learn-from-client/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/tw/images/avatar.jpg">
      <meta itemprop="name" content="賴俊吾 / Oberon Lai">
      <meta itemprop="description" content="現為全職 WordPress 工程師，網站開發經歷 11 年，專攻前端工程與 WordPress 佈景主題、外掛客製化開發">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="WordPress 開發日常">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/tw/what-did-i-learn-from-client/" class="post-title-link" itemprop="url">一堂 25 萬元的實體課我學到了什麼？</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>
              

              <time title="創建時間：2021-10-15 11:30:00 / 修改時間：11:49:14" itemprop="dateCreated datePublished" datetime="2021-10-15T11:30:00+08:00">2021-10-15</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/%E5%B0%88%E6%A1%88%E7%AE%A1%E7%90%86/" itemprop="url" rel="index"><span itemprop="name">專案管理</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="文章字數">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
              <span>3k</span>
            </span>
            <span class="post-meta-item" title="所需閱讀時間">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
              <span>3 分鐘</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>一個年底簽約、要在隔年春節前結案、總價 25 萬的案子，成為我接案路上學過最貴的一課，也是讓我差點想要放棄做網站、熱情被消磨殆盡的最後一根稻草…</p>
</blockquote>
<p>接到工程師 Chris 的詢問來信那天是十二月中，信件內文條理分明、彬彬有禮，案件的需求為一個媒體平台需要重新設計並加入許多社群互動的功能，那時候第一次遇過這樣的案子，我與 PM 夥伴 Kevin 都很興奮，覺得這案子後續發展潛力無窮。</p>
<p>隔不到一週，帶著興奮的心情我們雙方約了第一次的會議，Chris 跟老闆 James 非常喜歡我們過去的作品，同時對於這個平台未來的發展我們討論到欲罷不能，有太多的好點子一直噴發，溝通過程也能感受到 James 非常看重我們，這讓我們非常想要拿下這個案子，以後就能拿這作品去說嘴了，於是會議完後就趕緊整理合約書與報價單，希望可以盡快展開合作。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/tw/what-did-i-learn-from-client/#more" rel="contents">
                閱讀全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://oberonlai.blog/tw/wordpress-learning/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/tw/images/avatar.jpg">
      <meta itemprop="name" content="賴俊吾 / Oberon Lai">
      <meta itemprop="description" content="現為全職 WordPress 工程師，網站開發經歷 11 年，專攻前端工程與 WordPress 佈景主題、外掛客製化開發">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="WordPress 開發日常">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/tw/wordpress-learning/" class="post-title-link" itemprop="url">第一次開發 WordPress 就上手</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>
              

              <time title="創建時間：2021-10-08 14:00:00 / 修改時間：14:15:01" itemprop="dateCreated datePublished" datetime="2021-10-08T14:00:00+08:00">2021-10-08</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/WordPress/" itemprop="url" rel="index"><span itemprop="name">WordPress</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="文章字數">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
              <span>2.1k</span>
            </span>
            <span class="post-meta-item" title="所需閱讀時間">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
              <span>2 分鐘</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>這篇文章本來應該是鐵人賽的最後一篇文章，但因為文章寫到頭暈眼花，一整個算錯了剩餘篇數，於是就多出一篇來，剛好拿來當第一份週更的發刊XD</p>
<hr>
<p>今天想跟大家分享我是如何學習 WordPress 開發的，先跟大家自我介紹一下我的背景，我不是念資訊相關科系的本科生，我大學是主修應用外文系的商用英文，基本上跟軟體開發扯不上半點邊，只是因為剛好大三的電腦課學了 Dreamweaver 一款用來做網頁的軟體，從此迷上設計這個領域。</p>
<p>我大概到了大四才知道自己想從事平面設計這個產業，對，不是網頁設計而是平面設計，因為看了很多設計大師的作品，覺得做設計超酷超帥又超自由(?)，所以當我退伍後都是找設計助理相關的工作，因為沒有經歷也沒有學歷，工作真是有夠難找，最後去了一間高級日式餐廳旗下的設計公司做設計助理，然後做了兩個禮拜後就被資遣，當時覺得社會大學實在有夠難混。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/tw/wordpress-learning/#more" rel="contents">
                閱讀全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://oberonlai.blog/tw/woocommerce-payment-sell/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/tw/images/avatar.jpg">
      <meta itemprop="name" content="賴俊吾 / Oberon Lai">
      <meta itemprop="description" content="現為全職 WordPress 工程師，網站開發經歷 11 年，專攻前端工程與 WordPress 佈景主題、外掛客製化開發">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="WordPress 開發日常">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/tw/woocommerce-payment-sell/" class="post-title-link" itemprop="url">WooCommerce 金流串接實戰（十五）- 販售外掛</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>

              <time title="創建時間：2021-09-30 09:30:00" itemprop="dateCreated datePublished" datetime="2021-09-30T09:30:00+08:00">2021-09-30</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新於</span>
                <time title="修改時間：2021-10-08 14:14:44" itemprop="dateModified" datetime="2021-10-08T14:14:44+08:00">2021-10-08</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/WooCommerce/" itemprop="url" rel="index"><span itemprop="name">WooCommerce</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="文章字數">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
              <span>6.2k</span>
            </span>
            <span class="post-meta-item" title="所需閱讀時間">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
              <span>6 分鐘</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>在完成特定客戶的需求之後，也許會有其他商家也希望可以在他們的 WooCommerce 購物網站上增加鐵人付的金流功能，這時候我們有以下幾種選擇：</p>
<ol>
<li>上架 wordpress.org 讓客戶可以在後台直接使用搜尋功能找到鐵人付外掛後安裝</li>
<li>提供壓縮好的檔案傳送給潛在客戶請他們自行從後台安裝</li>
<li>將外掛檔案上傳到 Github 並發行版本供客戶下載</li>
</ol>
<p>如果是要以免費外掛來增加曝光，上架 wordpress.org 是比較好的選擇，對於客戶來說操作上最直覺，上架的步驟也很簡單，基本上就是把檔案打包好之後使用表單提交出去即可，具體的步驟可以參考<a target="_blank" rel="noopener" href="https://huanyichuang.com/blog/wordpress-plugin-submission/">這篇文章</a>。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/tw/woocommerce-payment-sell/#more" rel="contents">
                閱讀全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://oberonlai.blog/tw/woocommerce-payment-deployment/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/tw/images/avatar.jpg">
      <meta itemprop="name" content="賴俊吾 / Oberon Lai">
      <meta itemprop="description" content="現為全職 WordPress 工程師，網站開發經歷 11 年，專攻前端工程與 WordPress 佈景主題、外掛客製化開發">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="WordPress 開發日常">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/tw/woocommerce-payment-deployment/" class="post-title-link" itemprop="url">WooCommerce 金流串接實戰（十四）- 部署正式機</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>
              

              <time title="創建時間：2021-09-29 09:30:00 / 修改時間：09:31:43" itemprop="dateCreated datePublished" datetime="2021-09-29T09:30:00+08:00">2021-09-29</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/WooCommerce/" itemprop="url" rel="index"><span itemprop="name">WooCommerce</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="文章字數">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
              <span>4k</span>
            </span>
            <span class="post-meta-item" title="所需閱讀時間">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
              <span>4 分鐘</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>當我們在測試機確認過金流功能皆能正常運作後，接下來就是要把我們開發的外掛上傳客戶主機的時候了，在上傳之前，為了避免發生預期外的錯誤，我會進行以下的自動化流程：</p>
<ol>
<li>檢查程式碼是否符合 WordPress Coding Standard 規範</li>
<li>執行單元測試確保通過所有的測試項目</li>
<li>打包外掛並排除不需要上傳到正式站的檔案</li>
<li>上傳正式機</li>
<li>當發生問題時可以還原到上傳前的狀態</li>
</ol>
<p>第一個檢查項目是 WordPress 程式碼規範，PHP 有一套自己的程式碼規範，叫做 PHP Standards Recommendations ( PSR )，雖然 WordPress 是用 PHP 寫的，但在規範上有許多地方不一樣，這個檢查項目確保優先使用 WordPress 提供的函式。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/tw/woocommerce-payment-deployment/#more" rel="contents">
                閱讀全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://oberonlai.blog/tw/woocommerce-payment-staging/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/tw/images/avatar.jpg">
      <meta itemprop="name" content="賴俊吾 / Oberon Lai">
      <meta itemprop="description" content="現為全職 WordPress 工程師，網站開發經歷 11 年，專攻前端工程與 WordPress 佈景主題、外掛客製化開發">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="WordPress 開發日常">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/tw/woocommerce-payment-staging/" class="post-title-link" itemprop="url">WooCommerce 金流串接實戰（十三）- 建立測試機</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>
              

              <time title="創建時間：2021-09-28 09:30:00 / 修改時間：10:02:32" itemprop="dateCreated datePublished" datetime="2021-09-28T09:30:00+08:00">2021-09-28</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/WooCommerce/" itemprop="url" rel="index"><span itemprop="name">WooCommerce</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="文章字數">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
              <span>6.5k</span>
            </span>
            <span class="post-meta-item" title="所需閱讀時間">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
              <span>6 分鐘</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>開發 WooCommerce 金流外掛能在本機測試的部分除了確保設定項有正確寫入資料庫外，剩下的就是確保按下結帳按鈕時不會有任何的錯誤產生，至於能否將正確的資料送到金流商以及成功接收回傳資料，都還是要在遠端主機才能進行測試，雖然我們可以用一些工具像是 Postman 來模擬金流商的 API，但最終這支外掛還是要能夠在正式環境中運作才行。</p>
<p>通常承接外掛開發這一類的案件，客戶本身都已經有運作中的網站，為了要讓我們的外掛可以在不影響客戶網站的情況下測試，最好的方法就是客戶可以提供給我們跟正式環境一模一樣的測試站來執行金流外掛的結帳流程。</p>
<p>但常遇到的狀況是客戶無法提供，這樣的話就需要我們自己架設測試環境，但自架的測試環境跟正式站還是會有所落差，所以主要測試的方向就是確保金流商的 API 可以運作正常，至於裝在正式站是否會跟其他外掛產生衝突或其他狀況而造成問題，這就只能等到上正式站才能知道了。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/tw/woocommerce-payment-staging/#more" rel="contents">
                閱讀全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://oberonlai.blog/tw/woocommerce-payment-e2e/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/tw/images/avatar.jpg">
      <meta itemprop="name" content="賴俊吾 / Oberon Lai">
      <meta itemprop="description" content="現為全職 WordPress 工程師，網站開發經歷 11 年，專攻前端工程與 WordPress 佈景主題、外掛客製化開發">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="WordPress 開發日常">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/tw/woocommerce-payment-e2e/" class="post-title-link" itemprop="url">WooCommerce 金流串接實戰（十二）- 端對端測試</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>
              

              <time title="創建時間：2021-09-27 09:30:00 / 修改時間：10:15:17" itemprop="dateCreated datePublished" datetime="2021-09-27T09:30:00+08:00">2021-09-27</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/WooCommerce/" itemprop="url" rel="index"><span itemprop="name">WooCommerce</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="文章字數">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
              <span>7.1k</span>
            </span>
            <span class="post-meta-item" title="所需閱讀時間">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
              <span>6 分鐘</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>曾經做過一個專案，顧客把商品加入購物車後，可以同時選擇要加入幾筆商品，然後在結帳頁的時候需要根據商品數量來增加報名資料的欄位，也就是說如果購物車裡面有三筆資料，一樣的報名表單就需要填寫三份不同的客戶資料，有點類似旅行社在報名前需要填寫所有成員的資料一樣。</p>
<p>然後某天接到客戶反應說當只有一位報名時功能正常，但只要是多位報名會有問題，我就依照慣例開始手動測試，每一個報名要填的欄位有 8 個，所以每測試一次我至少要填 8 x 2 = 16 個欄位，用瀏覽器記憶的功能輸入或許不會花太多時間，但萬一客戶反應同時報名五個人以上會有問題，我就要填 40 個以上的欄位了，在找尋有沒有更快的測試方法時，才知道有端對端測試工具這種好物。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/tw/woocommerce-payment-e2e/#more" rel="contents">
                閱讀全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://oberonlai.blog/tw/woocommerce-payment-unit-test/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/tw/images/avatar.jpg">
      <meta itemprop="name" content="賴俊吾 / Oberon Lai">
      <meta itemprop="description" content="現為全職 WordPress 工程師，網站開發經歷 11 年，專攻前端工程與 WordPress 佈景主題、外掛客製化開發">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="WordPress 開發日常">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/tw/woocommerce-payment-unit-test/" class="post-title-link" itemprop="url">WooCommerce 金流串接實戰（十ㄧ）- 導入單元測試</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>
              

              <time title="創建時間：2021-09-26 16:00:00 / 修改時間：16:15:11" itemprop="dateCreated datePublished" datetime="2021-09-26T16:00:00+08:00">2021-09-26</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/WooCommerce/" itemprop="url" rel="index"><span itemprop="name">WooCommerce</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="文章字數">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
              <span>9k</span>
            </span>
            <span class="post-meta-item" title="所需閱讀時間">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
              <span>8 分鐘</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>先來回顧一下目前鐵人付外掛的資料夾結構：</p>
<pre class="line-numbers language-none"><code class="language-none">iron-pay
├── composer.json
├── composer.lock
├── iron-pay.php
├── src
│   ├── Gateways
│   │   ├── CreditCard.php
│   │   ├── Request.php
│   │   ├── Response.php
│   │   └── VirtualAccount.php
│   ├── Options.php
│   ├── Posts
│   │   └── ShopOrder
│   │       └── Metabox.php
│   └── Utility.php
└── vendor<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>通常我們會新增一個 tests 資料夾來放入測試的類別，並且其目錄結構會完全比照 src 裡面的所有內容，以及在既有的檔名後面加入 Test 的後綴，具體的結構如下：</p>
<pre class="line-numbers language-none"><code class="language-none">iron-pay
├── composer.json
├── composer.lock
├── iron-pay.php
├── src
│   ├── Gateways
│   │   ├── CreditCard.php
│   │   ├── Request.php
│   │   ├── Response.php
│   │   └── VirtualAccount.php
│   ├── Options.php
│   ├── Posts
│   │   └── ShopOrder
│   │       └── Metabox.php
│   └── Utility.php
├── tests
│   ├── Gateways
│   │   ├── CreditCardTest.php
│   │   ├── RequestTest.php
│   │   ├── ResponseTest.php
│   │   └── VirtualAccountTest.php
│   ├── OptionsTest.php
│   ├── Posts
│   │   └── ShopOrder
│   │       └── MetaboxTest.php
│   └── UtilityTest.php
└── vendor<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>在本文中會專注於測試 Utility 這個類別，這個類別主要有兩個方法，第一個是測試產生金流商驗證演算法的計算結果是否有符合預期，第二個是測試取得商店代號的格式是否正確。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/tw/woocommerce-payment-unit-test/#more" rel="contents">
                閱讀全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://oberonlai.blog/tw/woocommerce-payment-testing/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/tw/images/avatar.jpg">
      <meta itemprop="name" content="賴俊吾 / Oberon Lai">
      <meta itemprop="description" content="現為全職 WordPress 工程師，網站開發經歷 11 年，專攻前端工程與 WordPress 佈景主題、外掛客製化開發">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="WordPress 開發日常">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/tw/woocommerce-payment-testing/" class="post-title-link" itemprop="url">WooCommerce 金流串接實戰（十）- 自動化測試</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>
              

              <time title="創建時間：2021-09-25 09:30:00 / 修改時間：10:03:22" itemprop="dateCreated datePublished" datetime="2021-09-25T09:30:00+08:00">2021-09-25</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/WooCommerce/" itemprop="url" rel="index"><span itemprop="name">WooCommerce</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="文章字數">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
              <span>1.9k</span>
            </span>
            <span class="post-meta-item" title="所需閱讀時間">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
              <span>2 分鐘</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>剛開始接案的時候，常常為了能趕在結案日來臨之前把案子結掉，很多功能都是表面上能運作就拿去交差，心裏雖然知道可能會有問題，但總是會抱持著賭一把客戶不會發現的心態，就這樣請他們測試驗收，十次裡面大概有十次都會被發現有問題，從此之後我就發現我完全沒有賭運，乖乖把功能測試到自己有信心時才請客戶驗收。</p>
<p>大部分時間我都是用手動測試，如果要測金流外掛，就是每次手動操作一次結帳流程，選擇該金流後進行結帳，然後看 Log 有沒有噴錯。但如果在結帳時有很多欄位要輸入，或是要測試某些商品組合時，每進行一次結帳測試都會多花 10~30 秒，別小看這些時間，當重複測試很多次累積起來所消耗的時間就會非常驚人。</p>
<p>另外自己常發生改東牆壞西牆的狀況，明明在處理的是 A 功能，做完後也測試過沒問題了，結果卻發現看似毫無關聯的 B 功能壞掉了，而且通常都是等到客戶回報才會知道，這樣不僅讓整個程式碼很脆弱，還會降低客戶的信任感，因此我開始試著導入自動化測試來穩固程式碼。</p>
<p>寫測試的目的不是讓程式自動根除臭蟲，而是能夠及早發現問題所在及早治療。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/tw/woocommerce-payment-testing/#more" rel="contents">
                閱讀全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://oberonlai.blog/tw/woocommerce-payment-response/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/tw/images/avatar.jpg">
      <meta itemprop="name" content="賴俊吾 / Oberon Lai">
      <meta itemprop="description" content="現為全職 WordPress 工程師，網站開發經歷 11 年，專攻前端工程與 WordPress 佈景主題、外掛客製化開發">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="WordPress 開發日常">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/tw/woocommerce-payment-response/" class="post-title-link" itemprop="url">WooCommerce 金流串接實戰（九）- 接收回傳資料</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>
              

              <time title="創建時間：2021-09-24 09:30:00 / 修改時間：09:42:36" itemprop="dateCreated datePublished" datetime="2021-09-24T09:30:00+08:00">2021-09-24</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/WooCommerce/" itemprop="url" rel="index"><span itemprop="name">WooCommerce</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="文章字數">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
              <span>8.8k</span>
            </span>
            <span class="post-meta-item" title="所需閱讀時間">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
              <span>8 分鐘</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>完成付款請求之後，接下來是準備好接收金流商回傳資訊的 Response 類別，目前外掛的資料夾結構如下：</p>
<pre class="line-numbers language-none"><code class="language-none">iron-pay
├── composer.json
├── composer.lock
├── iron-pay.php
├── src
│   ├── Gateways
│   │   ├── CreditCard.php
│   │   ├── Request.php
│   │   ├── Response.php
│   │   └── VirtualAccount.php
│   ├── Options.php
│   ├── Posts
│   │   └── ShopOrder
│   │       └── Metabox.php
│   └── Utility.php
└── vendor<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>開啟 Response.php 檔案，輸入以下程式碼：</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/tw/woocommerce-payment-response/#more" rel="contents">
                閱讀全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://oberonlai.blog/tw/woocommerce-payment-request/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/tw/images/avatar.jpg">
      <meta itemprop="name" content="賴俊吾 / Oberon Lai">
      <meta itemprop="description" content="現為全職 WordPress 工程師，網站開發經歷 11 年，專攻前端工程與 WordPress 佈景主題、外掛客製化開發">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="WordPress 開發日常">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/tw/woocommerce-payment-request/" class="post-title-link" itemprop="url">WooCommerce 金流串接實戰（八）- 發起付款請求</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>
              

              <time title="創建時間：2021-09-23 09:00:00 / 修改時間：09:29:22" itemprop="dateCreated datePublished" datetime="2021-09-23T09:00:00+08:00">2021-09-23</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/WooCommerce/" itemprop="url" rel="index"><span itemprop="name">WooCommerce</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="文章字數">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
              <span>9.1k</span>
            </span>
            <span class="post-meta-item" title="所需閱讀時間">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
              <span>8 分鐘</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>了解 WooCommerce 金流的基本架構後，我們來進行串接的實作，在開始前先回顧一下目前的外掛結構：</p>
<pre class="line-numbers language-none"><code class="language-none">iron-pay
├── composer.json
├── composer.lock
├── iron-pay.php
├── src
│   ├── Options.php
│   └── Posts
│       └── ShopOrder
│           └── Metabox.php
└── vendor<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>首先我們假設鐵人付這家金流公司的支付運作模式，以信用卡與虛擬帳號轉帳兩種付款方式為例，說明實際狀況中可能會遇到的方法以及對應的設計方式，理論上同一家金流公司都會採用同一種邏輯，本文為了示範不同情境所以採用不同邏輯，實際情況以金流商提供的技術文件為主。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/tw/woocommerce-payment-request/#more" rel="contents">
                閱讀全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://oberonlai.blog/tw/woocommerce-payment-gateway/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/tw/images/avatar.jpg">
      <meta itemprop="name" content="賴俊吾 / Oberon Lai">
      <meta itemprop="description" content="現為全職 WordPress 工程師，網站開發經歷 11 年，專攻前端工程與 WordPress 佈景主題、外掛客製化開發">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="WordPress 開發日常">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/tw/woocommerce-payment-gateway/" class="post-title-link" itemprop="url">WooCommerce 金流串接實戰（七）- WC_Payment_Gateway</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>
              

              <time title="創建時間：2021-09-22 12:00:00 / 修改時間：12:09:51" itemprop="dateCreated datePublished" datetime="2021-09-22T12:00:00+08:00">2021-09-22</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/WooCommerce/" itemprop="url" rel="index"><span itemprop="name">WooCommerce</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="文章字數">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
              <span>5.1k</span>
            </span>
            <span class="post-meta-item" title="所需閱讀時間">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
              <span>5 分鐘</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>WooCommerce 的金流主要分為兩種，即時與非即時完成付款，即時指的是當訂單成立後就可以取得消費者的付款結果，像是信用卡、WebATM，WooCommerce 提供三種模式來處理即時付款：</p>
<ol>
<li><p>付款表單 - 讓消費者直接在站內完成信用卡或是付款相關資訊的填寫，由於安全性的考量，台灣有支援這種模式的金流商相對較少，但因為其結帳的便利性可降低付款跳出率，這幾年有不少廠商開始支援 Token 交易代碼化，也就是傳送過程中並非直接傳送消費者的卡號，而是使用一串代碼來避免直接暴露。</p>
</li>
<li><p>Iframe 嵌入 - 按下結帳時使用 Iframe 顯示卡號輸入畫面，之前國內也有金流商是採用這種方式付款，但該金流商目前已停止該類型的付款方式。</p>
</li>
<li><p>頁面跳轉 - 不讓消費者在站內提供付款資訊，而是跳轉到金流商的頁面進行付款，這是目前的主流方式，根據金流商運作模式，有些是使用 Form 來 Post，或是需要呼叫 API 來取得跳轉網址。</p>
</li>
</ol>
<p>非即時付款的金流常見的有虛擬轉帳帳號、超商代碼繳費，有些金流商會需要跳轉到他們的介面，像是選擇要產生的轉帳帳號是用哪家銀行、列印哪家超商的繳費代碼，也有廠商沒提供這些選擇，就是單純的直接回傳固定一家銀行或超商的繳費資訊，這種類型的就是直接將回傳結果顯示在站內即可。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/tw/woocommerce-payment-gateway/#more" rel="contents">
                閱讀全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://oberonlai.blog/tw/woocommerce-payment-metabox/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/tw/images/avatar.jpg">
      <meta itemprop="name" content="賴俊吾 / Oberon Lai">
      <meta itemprop="description" content="現為全職 WordPress 工程師，網站開發經歷 11 年，專攻前端工程與 WordPress 佈景主題、外掛客製化開發">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="WordPress 開發日常">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/tw/woocommerce-payment-metabox/" class="post-title-link" itemprop="url">WooCommerce 金流串接實戰（六）- 自訂欄位</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>
              

              <time title="創建時間：2021-09-21 09:00:00 / 修改時間：09:04:34" itemprop="dateCreated datePublished" datetime="2021-09-21T09:00:00+08:00">2021-09-21</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/WooCommerce/" itemprop="url" rel="index"><span itemprop="name">WooCommerce</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="文章字數">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
              <span>3.9k</span>
            </span>
            <span class="post-meta-item" title="所需閱讀時間">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
              <span>4 分鐘</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>先來回顧一下目前鐵人付金流外掛的資料夾結構：</p>
<pre class="line-numbers language-none"><code class="language-none">iron-pay
├── composer.json
├── composer.lock
├── iron-pay.php
├── src
│   └── Options.php
└── vendor<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>上一篇我們完成了 WooCommerce 的全域設定，接下來我們要在後台的訂單管理頁新增一個交易結果以及紀錄金流商的回傳訊息，以便客戶日後可以針對有問題的訂單進行追蹤。WordPress 的後台有很多現成的欄位，參考下圖：</p>
<p><img src="https://oberonlai.blog/wp-content/uploads/wordpress-metabox/wordpress-metabox-01.jpg"></p>
<p>如果要新增的很容易，使用函式 <code>add_meta_box()</code> 跟勾點 <code>add_meta_boxes</code> 來傳入產生表單欄位的 HTML，最後使用勾點 <code>save_post</code> 在儲存文章時觸發 <code>update_post_meta()</code> 即可將該欄位的資訊寫入資料庫：</p>
<pre class="line-numbers language-php" data-language="php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token keyword">function</span> <span class="token function">irp_add_custom_box</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token variable">$screens</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'shop_order'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">foreach</span> <span class="token punctuation">(</span> <span class="token variable">$screens</span> <span class="token keyword">as</span> <span class="token variable">$screen</span> <span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token function">add_meta_box</span><span class="token punctuation">(</span>
			<span class="token string single-quoted-string">'iron_pay_result'</span><span class="token punctuation">,</span>
			<span class="token string single-quoted-string">'鐵人付交易結果'</span><span class="token punctuation">,</span>
			<span class="token string single-quoted-string">'irp_custom_box_html'</span><span class="token punctuation">,</span>
			<span class="token variable">$screen</span><span class="token punctuation">,</span>
			<span class="token string single-quoted-string">'side'</span><span class="token punctuation">,</span>
			<span class="token string single-quoted-string">'low'</span>
		<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token function">add_action</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'add_meta_boxes'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'irp_add_custom_box'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">irp_custom_box_html</span><span class="token punctuation">(</span> <span class="token variable">$post</span> <span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token variable">$code</span>   <span class="token operator">=</span> <span class="token function">get_post_meta</span><span class="token punctuation">(</span> <span class="token variable">$post</span><span class="token operator">-></span><span class="token constant">ID</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'_irp_resp_code'</span><span class="token punctuation">,</span> <span class="token constant boolean">true</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token variable">$result</span> <span class="token operator">=</span> <span class="token function">get_post_meta</span><span class="token punctuation">(</span> <span class="token variable">$post</span><span class="token operator">-></span><span class="token constant">ID</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'_irp_resp_result'</span><span class="token punctuation">,</span> <span class="token constant boolean">true</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token delimiter important">?></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>回傳代號<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>irp_resp_code<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">echo</span> <span class="token function">esc_attr</span><span class="token punctuation">(</span> <span class="token variable">$code</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token delimiter important">?></span></span><span class="token punctuation">"</span></span> <span class="token attr-name">x-readonly</span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">display</span><span class="token punctuation">:</span>block<span class="token punctuation">;</span><span class="token property">width</span><span class="token punctuation">:</span>100%<span class="token punctuation">;</span><span class="token property">margin-top</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>交易結果<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>textarea</span> <span class="token attr-name">rows</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>5<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>irp_resp_result<span class="token punctuation">"</span></span> <span class="token attr-name">x-readonly</span> <span class="token style-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token style language-css"><span class="token property">display</span><span class="token punctuation">:</span>block<span class="token punctuation">;</span><span class="token property">width</span><span class="token punctuation">:</span>100%<span class="token punctuation">;</span><span class="token property">margin-top</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span></span><span class="token punctuation">></span></span><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">echo</span> <span class="token function">esc_textarea</span><span class="token punctuation">(</span> <span class="token variable">$result</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token delimiter important">?></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>textarea</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
	<span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">function</span> <span class="token function">irp_save_postdata</span><span class="token punctuation">(</span> <span class="token variable">$post_id</span> <span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token function">array_key_exists</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'irp_resp_code'</span><span class="token punctuation">,</span> <span class="token variable">$_POST</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token function">update_post_meta</span><span class="token punctuation">(</span>
			<span class="token variable">$post_id</span><span class="token punctuation">,</span>
			<span class="token string single-quoted-string">'_irp_resp_code'</span><span class="token punctuation">,</span>
			<span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'irp_resp_code'</span><span class="token punctuation">]</span>
		<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token function">array_key_exists</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'irp_resp_result'</span><span class="token punctuation">,</span> <span class="token variable">$_POST</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
		<span class="token function">update_post_meta</span><span class="token punctuation">(</span>
			<span class="token variable">$post_id</span><span class="token punctuation">,</span>
			<span class="token string single-quoted-string">'_irp_resp_result'</span><span class="token punctuation">,</span>
			<span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'irp_resp_result'</span><span class="token punctuation">]</span>
		<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token function">add_action</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'save_post'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'irp_save_postdata'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>這樣就完成我們要的欄位了～</p>
<p><img src="https://oberonlai.blog/wp-content/uploads/wordpress-metabox/wordpress-metabox-02.jpg"></p>
<p>以上範例修改自官方文件，然而這個做法真的要記起來每個步驟真的非常困難，再加上還必須要知道一堆函式與勾點，我寫了這麼多年，每次真的要用到時都還是要去查文件，覺得效率不高，因此我整理了一套 wp-metabox 的 PHP 套件來簡化這些步驟，接下來示範如何使用這個套件來完成一樣的自訂欄位。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/tw/woocommerce-payment-metabox/#more" rel="contents">
                閱讀全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://oberonlai.blog/tw/woocommerce-payment-options/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/tw/images/avatar.jpg">
      <meta itemprop="name" content="賴俊吾 / Oberon Lai">
      <meta itemprop="description" content="現為全職 WordPress 工程師，網站開發經歷 11 年，專攻前端工程與 WordPress 佈景主題、外掛客製化開發">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="WordPress 開發日常">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/tw/woocommerce-payment-options/" class="post-title-link" itemprop="url">WooCommerce 金流串接實戰（五）- 全域設定</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>
              

              <time title="創建時間：2021-09-20 09:30:00 / 修改時間：09:36:33" itemprop="dateCreated datePublished" datetime="2021-09-20T09:30:00+08:00">2021-09-20</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/tw/categories/WooCommerce/" itemprop="url" rel="index"><span itemprop="name">WooCommerce</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="文章字數">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
              <span>7.3k</span>
            </span>
            <span class="post-meta-item" title="所需閱讀時間">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
              <span>7 分鐘</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>對於 WordPress 資料庫結構有個大概的認識後，我們就能把後台的設定選項歸納為兩種，一種是放在 wp_options 的全域設定，另外一種是放在 wp_{xxx}meta 裡面的局部設定。在這個金流外掛之中我們會做到以下兩種設定欄位：</p>
<ul>
<li>金流商的商店代號、金鑰以及除錯設定</li>
<li>訂單紀錄交易回傳結果</li>
</ul>
<p>第一個種欄位是全域設定，所以我們會把他寫在 wp_options 裡面，第二種是局部設定，寫在 wp_postmeta 裡面。這篇文章我們先來處理全域設定的部分。</p>
<p>如果我們要做的設定選項無法關聯到 post、user 或是其他資料欄位的話，放在全域設定會是比較好的選擇，像是網站的標題、描述、語系、時區這些跟網站本身有關的項目，或是我們自行開發的外掛需要提供一些設定功能時，就會放在 wp_options 裡面。</p>
<p>WordPress 的 Settings API 提供了豐富的函式可以來新增後台選單以及設定項的表單欄位，如果我們要製作設定頁面完全不用寫到半行 HTML 跟處理表單 POST 的問題，WordPress 全都幫我們封裝好了，而 WooCommerce 的設定 API 跟 WordPress 不同，它另外寫了一支抽象類別 WC_Settings_Page 來讓我們繼承使用。</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/tw/woocommerce-payment-options/#more" rel="contents">
                閱讀全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/tw/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/tw/page/15/">15</a><a class="extend next" rel="next" href="/tw/page/2/"><i class="fa fa-angle-right" aria-label="下一頁"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目錄
        </li>
        <li class="sidebar-nav-overview">
          本站概要
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="賴俊吾 / Oberon Lai"
      src="/tw/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">賴俊吾 / Oberon Lai</p>
  <div class="site-description" itemprop="description">現為全職 WordPress 工程師，網站開發經歷 11 年，專攻前端工程與 WordPress 佈景主題、外掛客製化開發</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/tw/archives">
          <span class="site-state-item-count">295</span>
          <span class="site-state-item-name">文章</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/tw/categories/">
        <span class="site-state-item-count">53</span>
        <span class="site-state-item-name">分類</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tw/tags/">
        <span class="site-state-item-count">91</span>
        <span class="site-state-item-name">標籤</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/oberonlai" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;oberonlai" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:m615926@gmail.com" title="E-Mail → mailto:m615926@gmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://twitter.com/oberonlai" title="Twitter → https:&#x2F;&#x2F;twitter.com&#x2F;oberonlai" rel="noopener" target="_blank"><i class="fab fa-twitter fa-fw"></i>Twitter</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.facebook.com/m615926" title="FB Page → https:&#x2F;&#x2F;www.facebook.com&#x2F;m615926" rel="noopener" target="_blank"><i class="fab fa-facebook fa-fw"></i>FB Page</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">賴俊吾 / Oberon Lai</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
    <span title="總字數">755k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
    <span title="所需總閱讀時間">11:26</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://mist.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Mist</a> 強力驅動
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/tw/lib/anime.min.js"></script>
  <script src="/tw/lib/pjax/pjax.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/medium-zoom@1/dist/medium-zoom.min.js"></script>

<script src="/tw/js/utils.js"></script>


<script src="/tw/js/schemes/muse.js"></script>


<script src="/tw/js/next-boot.js"></script>

  <script>
var pjax = new Pjax({
  selectors: [
    'head title',
    '#page-configurations',
    '.content-wrap',
    '.post-toc-wrap',
    '.languages',
    '#pjax'
  ],
  switches: {
    '.post-toc-wrap': Pjax.switches.innerHTML
  },
  analytics: false,
  cacheBust: false,
  scrollTo : !CONFIG.bookmark.enable
});

window.addEventListener('pjax:success', () => {
  document.querySelectorAll('script[data-pjax], script#page-configurations, #pjax script').forEach(element => {
    var code = element.text || element.textContent || element.innerHTML || '';
    var parent = element.parentNode;
    parent.removeChild(element);
    var script = document.createElement('script');
    if (element.id) {
      script.id = element.id;
    }
    if (element.className) {
      script.className = element.className;
    }
    if (element.type) {
      script.type = element.type;
    }
    if (element.src) {
      script.src = element.src;
      // Force synchronous loading of peripheral JS.
      script.async = false;
    }
    if (element.dataset.pjax !== undefined) {
      script.dataset.pjax = '';
    }
    if (code !== '') {
      script.appendChild(document.createTextNode(code));
    }
    parent.appendChild(script);
  });
  NexT.boot.refresh();
  // Define Motion Sequence & Bootstrap Motion.
  if (CONFIG.motion.enable) {
    NexT.motion.integrator
      .init()
      .add(NexT.motion.middleWares.subMenu)
      .add(NexT.motion.middleWares.postList)
      .bootstrap();
  }
  NexT.utils.updateSidebarPosition();
});
</script>




  




  
<script src="/tw/js/local-search.js"></script>













    <div id="pjax">
  

  

    </div>
</body>
</html>
